var yi=Object.defineProperty;var wi=(t,e,n)=>e in t?yi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var N=(t,e,n)=>(wi(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Y(){}function Bn(t,e){for(const n in e)t[n]=e[n];return t}function Xs(t){return t()}function zl(){return Object.create(null)}function nt(t){t.forEach(Xs)}function Us(t){return typeof t=="function"}function at(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ti(t){return Object.keys(t).length===0}function aa(t,...e){if(t==null){for(const a of e)a(void 0);return Y}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function zs(t,e,n){t.$$.on_destroy.push(aa(e,n))}function rl(t,e,n,a){if(t){const l=Vs(t,e,n,a);return t[0](l)}}function Vs(t,e,n,a){return t[1]&&a?Bn(n.ctx.slice(),t[1](a(e))):n.ctx}function ol(t,e,n,a){if(t[2]&&a){const l=t[2](a(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const s=[],r=Math.max(e.dirty.length,l.length);for(let u=0;u<r;u+=1)s[u]=e.dirty[u]|l[u];return s}return e.dirty|l}return e.dirty}function cl(t,e,n,a,l,s){if(l){const r=Vs(e,n,a,s);t.p(r,l)}}function ul(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let a=0;a<n;a++)e[a]=-1;return e}return-1}function Zn(t,e,n){return t.set(n),e}function i(t,e){t.appendChild(e)}function S(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function _e(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function M(t){return document.createTextNode(t)}function g(){return M(" ")}function Ot(){return M("")}function F(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function be(t){return t===""?null:+t}function Si(t){return Array.from(t.childNodes)}function H(t,e){e=""+e,t.data!==e&&(t.data=e)}function I(t,e){t.value=e??""}function _t(t,e,n){for(let a=0;a<t.options.length;a+=1){const l=t.options[a];if(l.__value===e){l.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ke(t,e){for(let n=0;n<t.options.length;n+=1){const a=t.options[n];a.selected=~e.indexOf(a.__value)}}function xn(t){const e=t.querySelector(":checked");return e&&e.__value}function Tn(t){return[].map.call(t.querySelectorAll(":checked"),e=>e.__value)}function Di(t,e,{bubbles:n=!1,cancelable:a=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:a})}let Pn;function On(t){Pn=t}function Wi(){if(!Pn)throw new Error("Function called outside component initialization");return Pn}function Ks(){const t=Wi();return(e,n,{cancelable:a=!1}={})=>{const l=t.$$.callbacks[e];if(l){const s=Di(e,n,{cancelable:a});return l.slice().forEach(r=>{r.call(t,s)}),!s.defaultPrevented}return!0}}const Qt=[],Vl=[];let rn=[];const Kl=[],Mi=Promise.resolve();let za=!1;function $i(){za||(za=!0,Mi.then(Qs))}function Ie(t){rn.push(t)}const Ua=new Set;let zt=0;function Qs(){if(zt!==0)return;const t=Pn;do{try{for(;zt<Qt.length;){const e=Qt[zt];zt++,On(e),Ai(e.$$)}}catch(e){throw Qt.length=0,zt=0,e}for(On(null),Qt.length=0,zt=0;Vl.length;)Vl.pop()();for(let e=0;e<rn.length;e+=1){const n=rn[e];Ua.has(n)||(Ua.add(n),n())}rn.length=0}while(Qt.length);for(;Kl.length;)Kl.pop()();za=!1,Ua.clear(),On(t)}function Ai(t){if(t.fragment!==null){t.update(),nt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ie)}}function Ci(t){const e=[],n=[];rn.forEach(a=>t.indexOf(a)===-1?e.push(a):n.push(a)),n.forEach(a=>a()),rn=e}const jn=new Set;let Gt;function et(){Gt={r:0,c:[],p:Gt}}function tt(){Gt.r||nt(Gt.c),Gt=Gt.p}function D(t,e){t&&t.i&&(jn.delete(t),t.i(e))}function A(t,e,n,a){if(t&&t.o){if(jn.has(t))return;jn.add(t),Gt.c.push(()=>{jn.delete(t),a&&(n&&t.d(1),a())}),t.o(e)}else a&&a()}function K(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ne(t){t&&t.c()}function ee(t,e,n){const{fragment:a,after_update:l}=t.$$;a&&a.m(e,n),Ie(()=>{const s=t.$$.on_mount.map(Xs).filter(Us);t.$$.on_destroy?t.$$.on_destroy.push(...s):nt(s),t.$$.on_mount=[]}),l.forEach(Ie)}function te(t,e){const n=t.$$;n.fragment!==null&&(Ci(n.after_update),nt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Li(t,e){t.$$.dirty[0]===-1&&(Qt.push(t),$i(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function kt(t,e,n,a,l,s,r=null,u=[-1]){const o=Pn;On(t);const m=t.$$={fragment:null,ctx:[],props:s,update:Y,not_equal:l,bound:zl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:zl(),dirty:u,skip_bound:!1,root:e.target||o.$$.root};r&&r(m.root);let h=!1;if(m.ctx=n?n(t,e.props||{},(f,k,..._)=>{const w=_.length?_[0]:k;return m.ctx&&l(m.ctx[f],m.ctx[f]=w)&&(!m.skip_bound&&m.bound[f]&&m.bound[f](w),h&&Li(t,f)),k}):[],m.update(),h=!0,nt(m.before_update),m.fragment=a?a(m.ctx):!1,e.target){if(e.hydrate){const f=Si(e.target);m.fragment&&m.fragment.l(f),f.forEach(T)}else m.fragment&&m.fragment.c();e.intro&&D(t.$$.fragment),ee(t,e.target,e.anchor),Qs()}On(o)}class vt{constructor(){N(this,"$$");N(this,"$$set")}$destroy(){te(this,1),this.$destroy=Y}$on(e,n){if(!Us(n))return Y;const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(n),()=>{const l=a.indexOf(n);l!==-1&&a.splice(l,1)}}$set(e){this.$$set&&!Ti(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ri="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ri);const qi=["Kind","Cruel","Focused","Unfocused","Selfless","Selfish","Honorable","Deceitful","Brave","Cowardly"];class Ii{constructor(){N(this,"Alchemy",{name:"Alchemy",baseAbility:"LOG",level:0,relation:0,linkedSkill:Fi});N(this,"Detective",{name:"Detective",baseAbility:"LOG",level:0,relation:0,linkedSkill:Hi});N(this,"Diviner",{name:"Diviner",baseAbility:"LOG",level:0,relation:0,linkedSkill:ji});N(this,"Leader",{name:"Leader",baseAbility:"WIL",level:0,relation:0,linkedSkill:Bi});N(this,"Mystic",{name:"Mystic",baseAbility:"WIL",level:0,relation:0,linkedSkill:Ni});N(this,"Scholar",{name:"Scholar",baseAbility:"LOG",level:0,relation:0,linkedSkill:Oi});N(this,"Scout",{name:"Scout",baseAbility:"LOG",level:0,relation:0,linkedSkill:Pi});N(this,"Sorcerer",{name:"Sorcerer",baseAbility:"WIL",level:0,relation:0,linkedSkill:Ei});N(this,"Thief",{name:"Thief",baseAbility:"DEX",level:0,relation:0,linkedSkill:Gi});N(this,"Warrior1",{name:"Warrior1",style:"",level:0,relation:0,linkedSkill:Ql});N(this,"Warrior2",{name:"Warrior2",style:"",level:0,relation:0,linkedSkill:Ql});N(this,"Name","");N(this,"Description","");N(this,"CP",10);N(this,"STR",50);N(this,"DEX",55);N(this,"LOG",60);N(this,"WIL",65);N(this,"BP",this.BaseBP);N(this,"Qi",0);N(this,"DR",0);N(this,"MoralCodes",{Totally:-1,Somewhat:-1,Very:-1});N(this,"learnedTechniques",[]);N(this,"spells",[]);N(this,"equipment",[]);N(this,"armour",[]);N(this,"weapons",[]);N(this,"canUseWeapon",e=>{for(const l of e.attributes){var[n,a]=l.split(" ");if(this[n]<a)return!1}return!0});N(this,"trainedWithWeapon",e=>{for(const{style:n}of[this.Warrior1,this.Warrior2])if(!(!n||n=="")){for(const a of sl)if(a.name==n&&a.weapons.includes(e))return!0}return!1})}get Rank(){let e=0,n=[this.Alchemy.level,this.Detective.level,this.Diviner.level,this.Leader.level,this.Mystic.level,this.Scholar.level,this.Scout.level,this.Sorcerer.level,this.Thief.level,this.Warrior1.level,this.Warrior2.level].sort().reverse();return n[0]>2&&(e+=1),n[0]>4&&(e+=1),n[0]==6&&(e+=1),n[1]>3&&(e+=1),n[1]==6&&(e+=1),Math.max(this.STR,this.DEX,this.LOG,this.WIL)>=50&&(e+=1),Math.max(this.STR,this.DEX,this.LOG,this.WIL)>=100&&(e+=1),e}get BaseBP(){return Math.round(this.STR/2)+Math.max(0,10*(this.Rank-1))}get MOV(){let e=8;return this.STR>=65&&(e+=1),this.DEX>=65&&(e+=1),e}get INIT(){let e=1;return this.LOG>=65&&(e+=1),this.DEX>=65&&(e+=1),e}getSkillScore(e,n){let{requiredForAttempt:a}=e.linkedSkill;return!a&&e.level==0?n/2:e.level==0?0:n/2+e.level*10+e.relation*10}get AlchemyScore(){return this.getSkillScore(this.Alchemy,this.LOG)}get DetectiveScore(){return this.getSkillScore(this.Detective,this.LOG)}get DivinerScore(){return this.getSkillScore(this.Diviner,this.LOG)}get LeaderScore(){return this.getSkillScore(this.Leader,this.WIL)}get MysticScore(){return this.getSkillScore(this.Mystic,this.WIL)}get ScholarScore(){return this.getSkillScore(this.Scholar,this.LOG)}get ScoutScore(){return this.getSkillScore(this.Scout,this.LOG)}get SorcererScore(){return this.getSkillScore(this.Sorcerer,this.WIL)}get ThiefScore(){return this.getSkillScore(this.Thief,this.DEX)}get Warrior1RangedScore(){return this.getSkillScore(this.Warrior1,this.DEX)}get Warrior1MeleeScore(){return this.getSkillScore(this.Warrior1,this.STR)}get Warrior2RangedScore(){return this.getSkillScore(this.Warrior2,this.DEX)}get Warrior2MeleeScore(){return this.getSkillScore(this.Warrior2,this.STR)}get allowedTechniques(){var a,l,s,r;let e=[],n=[(a=this.Warrior1)==null?void 0:a.style,(l=this.Warrior2)==null?void 0:l.style];if(n.every(u=>!u))return[];for(const u of sl)console.log(u.name,n),n.includes(u.name)&&(e=[...e,...u.techniques]);return console.log("allowedTechniques",e.length,(s=this.Warrior1)==null?void 0:s.style,(r=this.Warrior2)==null?void 0:r.style),e}get MeleeDamageModifier(){let e=0;return this.STR<55?e:(this.learnedTechniques.includes("Vivacity")?e+=(this.DEX-55)/5:e+=(this.STR-55)/5,Math.ceil(e))}get RangedDamageModifier(){let e=0;return e+=(this.DEX-55)/5,Math.max(e,0)}get MeleeUnarmedModifier(){return Math.max(0,0)}get kungFuDamage(){let e=ii.damage,n=["1D","1D+2","1D+4","2D","2D+2","2D+4"],a=Math.max(this.Warrior1.level,this.Warrior2.level);return a>0&&(e=n[a-1]),e}}const Ql={name:"Warrior",desc:`This skill covers various martial arts styles. It represents expertise gained from training in kung fu, military service, or as a mercenary or xia. 
	When chosen as a primary or secondary skill, bonuses apply to all future Warrior skills.
	This skill can be used as an untrained fighting score; you just won’t have any kung fu techniques or other benefits of training.
	When designating the Warrior skill as a primary or secondary skill, apply the bonus to all Warrior skills you take in the future.`,score:"Note this skill has two scores as follows; melee equals half STR +10 per Warrior level (includes unarmed combat), and ranged equals half DEX +10 per Warrior level (includes thrown weapons).",titles:["Novice","Pupil","Expert","Shifu (teacher)","Champion","Master"],abilities:[{name:"Marksman",desc:"Utilizes ranged weaponry such as bows, dart projectiles, hurled daggers, and needle-like objects."},{name:"Melee",desc:"Utilizes a range of handheld tools including blades, blunt instruments, and empty-handed techniques to engage opponents in close quarters combat."},{name:"Kung Fu",desc:"Selecting a kung fu style when leveling up in Warrior grants you a unique moniker, combining your role with the chosen style (e.g., Warrior of Dragon's Claw). Your proficiency in various techniques equals your current Warrior level."},{name:"Kung Fu Damage",desc:"Your kung fu style and unarmed attacks deal increased damage as your Warrior skill rises. Refer to Kung Fu for details on specific weapon effects."}]},Ei={name:"Sorcerer",desc:"This skill reflects the ability to wield magical powers and create powerful objects through strength of will.",score:"half WIL +10 per sorcerer level.",requiredForAttempt:!0,titles:["Acolyte","Adept","Mage","Warlock","Sorcerer","Grand Sorcerer"],abilities:[{name:"High Sorcery",desc:"Knows a multitude of spells matching your Sorcerer level."},{name:"Low Sorcery",desc:`You may perform any one of the following once per round, no check required:
				- Illuminate a 5-space area with soft light
				- Create a convincing auditory illusion within 5 spaces
				- Display minor magic in a visual effect that's easy to see
				- Enlist small objects to assist you - like mops or dishes
				- Amplify the volume and authority of your voice or another's for up to 5 spaces
				- Repair minor damage to everyday items
				- Complete other simple magical tasks approved by the GM`},{name:"Raw Talent",desc:"Detect and interpret magical phenomena including written spells and incantations after declaring intent to do so. Move small objects using focused mental energy without requiring a skill check."},{name:"Enchantment",desc:"Craft bespoke magical objects using spells or abilities, a process that unfolds over days or weeks, as detailed in Magic Item Creation on page 68."}]},Gi={name:"Thief",desc:"This skill represents the expertise acquired by rogues or thieves through talent and opportunity.",score:"half DEX +10 per Thief level.",titles:["Footpad","Cutpurse","Burglar","Robber","Thief","Master Thief"],abilities:[{name:"Deception",desc:"Master deception techniques, fabricate convincing documents, convincingly assume identities, and maintain realistic disguises for others."},{name:"Security Systems",desc:"Recognize and disable hidden dangers, craft clever lockpicks, and execute minor mechanical fixes, all while relying on the precision of thieves' tools."},{name:"Sleight of Hand",desc:"You possess cunning skills of pilfering small items, palming valuables and concealing them with ease."},{name:"Stealth",desc:"Unseen strike: You become nearly invisible, gaining +5 to attack and deal increased damage per Thief level when striking from concealment."}]},Oi={name:"Scholar",desc:"This skill represents knowledge gained from education and access to books, legends, and lore.",score:"half LOG +10 per Scholar level.",requiredForAttempt:!0,titles:["Student","Cultivated Talent","Researcher","Scholar","Promoted Scholar","Master Scholar"],abilities:[{name:"Diplomat",desc:"Gain +5 per level to ability checks for understanding cultural norms, influencing others through diplomacy, building rapport, negotiating fairly, interacting with nobility, persuading others, and similar social exchanges. Learn an extra language at the same rate."},{name:"High Scholar",desc:"Gain a unique expertise at every even level, boosting relevant skill checks by +10 for 3 hours. Choose from roles like administrator, calligrapher, trader, librarian, poet, or select others with your GM's approval."},{name:"Historian",desc:"Uncover esoteric knowledge and obscure connections between legendary figures, notable locations, and cultural artifacts, revealing hidden patterns and relationships that shape history."},{name:"Signs & Portents",desc:"As needed, pose a query to the Game Master about the narrative context and receive a straightforward truth-based reply."}]},Pi={name:"Scout",desc:"This skill represents training or experience in wilderness survival, outdoor life, training of animals, and ranger duties.",score:"half LOG +10 per Scout level.",titles:["Runner","Tracker","Warden","Scout","Pathfinder","Ranger"],abilities:[{name:"Animal Handling",desc:"Engage with, soothe, provoke, or mentor indigenous wildlife species."},{name:"Navigation",desc:"Familiar with cardinal directions and able to pinpoint position on a given map, decode various types of maps, generate new maps, and navigate spatial information effectively."},{name:"Stalking",desc:"Track natural landscapes, gather intel from environmental clues, disregard terrain-based drawbacks, and stalk prey undetected in the wild."},{name:"Survival",desc:"Craft objects from organic resources, construct shelters, ignite flames, forage for sustenance, locate potable water sources, detect and neutralize natural obstacles and threats."}]},Bi={name:"Leader",desc:"This skill represents experience and training in personal and strategic combat on the battlefield.",score:"half WIL +10 per Leader level.",requiredForAttempt:!0,titles:["Protector","Defender","Guardian","Knight","Warlord","Highlord"],abilities:[{name:"Battle Commander",desc:`Initiative rolled, you may make a skill check. Success grants one of the following benefits until the turn ends, does not count as an action:
				+ Tactics: Team gets +1 initiative.
				+ Assault: Uncover enemy vulnerabilities such as exposed flesh or unshielded areas.
				+ Inspire: Grant adjacent allies +5 to hit and damage per Leader level.`},{name:"Guardian",desc:"When an adjacent ally takes damage, you can redirect the attack and absorb the hit, ignoring your Defense Rating. No roll needed."},{name:"Leader",desc:"Attract followers proportionate to leader level: 1/2D at Level 3, 1D at Level 4, 2D at Level 5, and entire armies at Level 6."},{name:"Warlord",desc:`On your turn choose one effect. Lasts until the turn ends. Counts as an action. No skill check required.
				- Unite: You and allies gain +10 to hit and damage for the rest of the turn.
				- Fortify: Allies resisting dark powers, magic, fear, etc. gain +20 on LOG or WIL checks.
				- Overwhelm: If outnumbering a foe 2:1 in melee, you or ally makes two attacks, choosing which roll to keep. Foe takes damage and is knocked prone. Counts as a single action.`}]},Ni={name:"Mystic",desc:"This skill reflects years of devotion to an ascetic lifestyle and cultivation of senses to interact with natural energy.",score:"half WIL +10 per Mystic level.",requiredForAttempt:!0,titles:["Novitiate","Brother/Sister","Priest","Chant Leader","Chief Monk","Abbot"],abilities:[{name:"Qi Focus",desc:"Gain an extra qi point at levels 1, 3, and 6. Moreover, you can utilize qi healing and transfer abilities without Warrior level requirements."},{name:"Harmony Sense",desc:"Detect spirits and demons within 15 meters per level, identify powerful energy signatures, or perceive moral resonance of entities and locations. Separate checks required for each distinct application; active declaration of intent necessary."},{name:"Spirit Sword",desc:"Spending one qi enables temporary empowerment of the spirit sword in hand. Spirit swords are ornate wooden jian adorned with mystical symbols. At Mystic level 1, you can forge spirit swords at no cost. With a charged spirit sword, any ally may vanquish demons and ghosts as if wielding a magical weapon, effect lasting for one day."},{name:"Wards",desc:"Erect protective barriers around areas, rooms, buildings, or entire towns with torii gates. Demons and ghosts of lower rank than you are blocked from entering the warded space. Establishing a local ward takes 10 minutes, while a town-wide ward requires one hour per gate, with at least one torii gate present. Both types of wards persist for a month."}]},ji={name:"Diviner",desc:"This skill represents the ability to interpret signs, predict fortunes, and make decisions based on cosmic forces.",score:"half LOG +10 per Diviner level.",requiredForAttempt:!0,titles:["Fortune Teller","Augur","Soothsayer","Astrologer","Seer","Master Diviner"],abilities:[{name:"Hunch",desc:"Once per encounter, disrupt the dice by shouting a warning or making a sudden move that causes anyone to re-roll their result, including the GM. You must be able to convey your message to fellow players. Out-of-turn usage incurs multi-action penalties."},{name:"Foresight",desc:"Place an object in the world once per session with a value up to 100 taels per level, considering location and potential requirements for successful placement."},{name:"Reading",desc:`Divine Insight: You may ask the GM up to your Diviner level questions each session. They will provide accurate answers. To perform a reading, you'll need a diviners kit and a few minutes of focus. Some examples of questions you might ask include:
				- Is this individual morally inclined towards kindness or cruelty?
				- When did someone pass away?
				- Where did they meet their end?
				- How did that person depart from this world?
				- Where can I find...?
				- Are there magical energies at play on this being/object/place?
				- Is something hidden here or nearby?
				- What's being said? (Eavesdrop up to 100 feet away.)
				- What's unfolding visually? (Witness an event up to 100 feet away.)
				- What will the weather be like for the next two days?
				- Is this a genuine occurrence, or is illusion at play?
				- Are there traps in place?
				- Is this substance toxic?
				- Is what someone is saying the truth?`},{name:"Identify Convergence Point",desc:`You sense the confluence of paths. Using this insight helps you choose a course. Identifying a nexus requires a diviner's kit, 2 qi. Success leaves you "drained" (see Drained Condition). The used qi may not be recovered until the nexus is resolved. A nexus can be abandoned at any time. Abandonment allows normal qi recovery and returns strength in one week. Only one nexus can be identified at once. A second nexus cannot be identified until the previous one's duration has passed, even if it was abandoned early.`}]},Fi={name:"Alchemist",desc:"This skill represents expertise in understanding substances and their effects on the body.",score:"half LOG +10 per Alchemist level.",requiredForAttempt:!0,titles:["Herbalist","Apothecary","Doctor","Physician","Alchemist","Master Alchemist"],abilities:[{name:"Alchemy",desc:"Choose a specific area of alchemical expertise for each level: antidote formulas, catalyst compounds, debilitating extracts, deadly concoctions, explosive mixtures, or medicinal elixirs. Operating an alchemist's lab demands possession of an alchemist's kit."},{name:"Diagnose",desc:"Diagnose medical conditions including poisoning identifying root causes through observation of symptoms pulse body odor and questioning patients' families. Hard penalty -20 applies without alchemy kit or clinic/hospital facilities."},{name:"Wound Mending",desc:"Instantly restore 1D BP plus 2BP per alchemist level to a wounded character, potentially reviving them from harm's way. Characters can only benefit once per encounter, regardless of the number of alchemists on hand, assuming their injury occurred during the encounter itself. This skill demands either an alchemist kit or a fully-equipped clinic/hospital for successful execution."},{name:"Surgery",desc:"A successful skill check in a properly equipped medical facility allows the alchemist to restore 3D lost body points plus one additional point per level to a wounded character. This takes half-day and the patient remains incapacitated for a minimum of 24 hours, with potential for longer recovery at the GM's discretion."}]},Hi={name:"Detective",desc:"This skill represents training in finding the truth, spotting clues, interrogating, and making arrests.",score:"half LOG +10 per Detective level.",titles:["Officer","Examiner","Investigator","Inspector","Detective","Master Detective"],abilities:[{name:"Detect Clues",desc:"Adept at deciphering subtle hints, consolidating data, and solving intricate enigmas through astute analysis of existing information."},{name:"Interrogation",desc:"Expertly elicits reliable information from captured individuals via nuanced questioning tactics. Successful interrogation demands a contested roll against the captive's WIL."},{name:"Shadowing and Trailing",desc:"Mastered the ability to discreetly observe or track individuals without drawing attention, achieved through subtle blending and situational awareness, allowing for unobtrusive surveillance of suspects."},{name:"Connections",desc:"Establish network connections. A skilled investigator is only as effective as their access points, having up to Detective level contacts. Collaborate with the player and GM to develop these connections. They might be sources, insiders, associates, or others who can provide support, intel, or influence. These contacts may operate in prominent or obscure roles, offering assistance or information when needed. The detective can sever a connection to replace it with another, pending story and GM approval."}]},Ys={itemType:"Weapon",image_name:"battle-axe",name:"Battleaxe",subType:"Melee",hands:1,range:0,attributes:["STR 50"],damage:"2D+2",cost:"10tl",desc:"A mighty two-handed axe, often wielded by the bravest warriors in our realm."},Sn={itemType:"Weapon",image_name:"chained-arrow-heads",name:"Bian (Hard Whip)",subType:"Melee",hands:1,range:0,attributes:["STR 55"],damage:"2D",cost:"20tl",desc:"A rigid whip with a sharpened edge, favored by skilled horsemen and guards."},dl={itemType:"Weapon",image_name:"crossed-sabres",name:"Butterfly Sword",subType:"Melee",hands:1,range:0,attributes:[],damage:"1D+2",cost:"15tl",desc:"Twin short swords, cherished by martial artists and guardians of ancient secrets."},Va={itemType:"Weapon",image_name:"grapple",name:"Chain Whip/Flying Claw",subType:"Melee",hands:1,range:3,attributes:["DEX 60"],damage:"1D+1",cost:"12tl",desc:"A whip interwoven with chains, mastered by the elite defenders of our empire."},Js={itemType:"Weapon",image_name:"spiked-mace",name:"Club",subType:"Melee",hands:1,range:0,attributes:[],damage:"1D+1",cost:"1tl",desc:"A sturdy wooden bludgeon, common among foot soldiers and village guardians."},fl={itemType:"Weapon",image_name:"flanged-mace",name:"Chui",subType:"Melee",hands:1,range:0,attributes:["STR 65"],damage:"2D+4",cost:"12tl",desc:"A weighty mace with a solid head, feared by foes for its devastating blows."},Zs={itemType:"Weapon",image_name:"crescent-blade",name:"Crescent Moon Knife",subType:"Melee",hands:1,range:0,attributes:["DEX 60"],damage:"1D+3",cost:"5tl",desc:"A curved blade resembling the moon's crescent, prized by our elite swordsmen."},xs={itemType:"Weapon",image_name:"crossbow",name:"Crossbow",subType:"Ranged",hands:2,range:80,attributes:[],damage:"2D+2",cost:"15tl",desc:"A handheld weapon of remarkable precision, revolutionizing our battlefield tactics."},Ve={itemType:"Weapon",image_name:"plain-dagger",name:"Dagger/Dark Judge's Brush",subType:"Melee",hands:1,range:10,attributes:[],damage:"1D",cost:"2tl",desc:"A short blade, essential for every warrior's arsenal, even among the secretive judges of the night."},Fn={itemType:"Weapon",image_name:"machete",name:"Dao (Heavy Sabre)",subType:"Melee",hands:1,range:0,attributes:["STR 55"],damage:"2D+2",cost:"12tl",desc:"A curved saber renowned for its deadly slashes, cherished by our finest generals."},Re={itemType:"Weapon",image_name:"shuriken",name:"Dart/Star",subType:"Ranged",hands:1,range:15,attributes:[],damage:"1D",cost:"2tl",desc:"Small throwing projectiles, favored by our scouts and marksmen for swift strikes."},ei={itemType:"Weapon",image_name:"battered-axe",name:"Greataxe",subType:"Melee",hands:2,range:0,attributes:["STR 70"],damage:"3D",cost:"40tl",desc:"An imposing two-handed axe, symbolizing the strength and ferocity of our warriors."},ti={itemType:"Weapon",image_name:"wood-club",name:"Great club",subType:"Melee",hands:2,range:0,attributes:["STR 55"],damage:"2D",cost:"15tl",desc:"A massive wooden club, wielded by guardians of our sacred temples and fortress gates."},Xi={itemType:"Weapon",image_name:"spiked-mace",name:"Hammer/Mace",subType:"Melee",hands:1,range:0,attributes:["STR 45"],damage:"1D+3",cost:"8tl",desc:"A blunt instrument of war, prized for its ability to crush armor and bones alike."},ml={itemType:"Weapon",image_name:"fire-axe",name:"Handaxe",subType:"Melee",hands:1,range:15,attributes:[],damage:"1D+2",cost:"2tl",desc:"A versatile one-handed axe, indispensable for woodcutters and guardians alike."},ea={itemType:"Weapon",image_name:"hook-swords",name:"Hook sword",subType:"Melee",hands:1,range:0,attributes:["DEX 60"],damage:"2D",cost:"20tl",desc:"A unique weapon with a hooked blade, passed down through generations of skilled warriors."},Ui={itemType:"Weapon",image_name:"beer-stein",name:"Improvised, Small+",subType:"Melee",hands:1,range:10,attributes:[],damage:"1D",cost:"--",desc:"- Lasts only 3 turns then breaks, also breaks on a critical success or failure."},zi={itemType:"Weapon",image_name:"bar-stool",name:"Improvised, Medium",subType:"Melee",hands:1,range:5,attributes:[],damage:"1D+3",cost:"--",desc:"- Lasts only 3 turns then breaks, also breaks on a critical success or failure."},Vi={itemType:"Weapon",image_name:"table",name:"Improvised, Large",subType:"Melee",hands:2,range:3,attributes:["STR 65"],damage:"2D",cost:"--",desc:"- Lasts only 3 turns then breaks, also breaks on a critical success or failure."},Dn={itemType:"Weapon",image_name:"ring",name:"Iron Wrist Rings",subType:"Melee",hands:1,range:0,attributes:["STR 70"],damage:"+3 unarmed",cost:"5tl",desc:"Metal bands worn as protection, favored by our honorable fighters in the arenas."},Hn={itemType:"Weapon",image_name:"thrown-spear",name:"Javelin",subType:"Ranged",hands:1,range:30,attributes:["STR 45"],damage:"1D+2",cost:"2tl",desc:"A thrown spear, favored by our horsemen for swift and deadly strikes."},Ge={itemType:"Weapon",image_name:"broadsword",name:"Jian (Longsword)",subType:"Melee",hands:1,range:0,attributes:["STR 50 & DEX 50"],damage:"2D+1",cost:"15tl",desc:"A graceful longsword, embodying the elegance and precision of our ancient traditions."},Ka={itemType:"Weapon",image_name:"halberd",name:"Kwandao",subType:"Melee",hands:2,range:0,attributes:["STR 55"],damage:"2D+3",cost:"12tl",desc:"A long-handled saber, revered by our noble defenders and champions of the realm."},Xn={itemType:"Weapon",image_name:"crescent-staff",name:"Lajatang",subType:"Melee",hands:2,range:0,attributes:["STR 50 & DEX 50"],damage:"2D",cost:"12tl",desc:"A polearm with multiple blades, wielded by our most skilled defenders against invaders."},ni={itemType:"Weapon",image_name:"bow-string",name:"Longbow*",subType:"Ranged",hands:2,range:100,attributes:["STR 60"],damage:"2D+3",cost:"35tl",desc:"- 20 ammo cost 1tl. \bA powerful bow, masterfully crafted by our finest bowyers for long-range warfare."},ai={itemType:"Weapon",image_name:"flail",name:"Maul, Great Flail, Warhammer",subType:"Melee",hands:2,range:0,attributes:["STR 50"],damage:"2D+3",cost:"10tl",desc:"Large and fearsome weapons, wielded by our mightiest warriors on the fields of battle."},li={itemType:"Weapon",image_name:"hammer-drop",name:"Meteor Hammer",subType:"Ranged",hands:2,range:3,attributes:["DEX 70"],damage:"2D+2",cost:"5tl",desc:"A weapon of legend, its chains and weights wielded with deadly skill by our most elite fighters."},Un={itemType:"Weapon",image_name:"dart",name:"Needle*",subType:"Ranged",hands:1,range:10,attributes:[],damage:"1",cost:"1tl",desc:"- 20 ammo cost 1tl. \bA slender weapon, favored by our assassins and spies for silent and swift strikes."},zn={itemType:"Weapon",image_name:"nunchaku",name:"Nunchaku",subType:"Melee",hands:1,range:0,attributes:["DEX 55"],damage:"1D+3",cost:"5tl",desc:"A martial arts weapon, passed down through generations of our disciplined monks."},Vn={itemType:"Weapon",image_name:"bow-arrow",name:"Shortbow*",subType:"Ranged",hands:2,range:60,attributes:["STR 50"],damage:"2D+1",cost:"12tl",desc:"- 20 ammo cost 1tl. \bA compact bow, beloved by our hunters and scouts for its portability and accuracy."},Wn={itemType:"Weapon",image_name:"broadsword",name:"Shortsword",subType:"Melee",hands:1,range:0,attributes:[],damage:"1D+3",cost:"8tl",desc:"A short-bladed weapon, common among our foot soldiers and palace guards."},Lt={itemType:"Weapon",image_name:"trident",name:"Spear/Trident",subType:"Melee",hands:1,range:20,attributes:["STR 50"],damage:"2D",cost:"10tl",desc:"A polearm, our primary weapon of war, used by soldiers and generals alike."},Rt={itemType:"Weapon",image_name:"wizard-staff",name:"Staff",subType:"Melee",hands:2,range:0,attributes:[],damage:"1D+3",cost:"4tl",desc:"A staff, the symbol of our martial arts mastery and the discipline of our warriors."},Qa={itemType:"Weapon",image_name:"bo",name:"Three-section Staff",subType:"Melee",hands:2,range:0,attributes:["DEX 55"],damage:"1D+2",cost:"8tl",desc:"A martial arts weapon of incredible skill and dexterity, passed down by our master teachers."},si={itemType:"Weapon",image_name:"two-handed-sword",name:"Two-handed Sword",subType:"Melee",hands:2,range:0,attributes:["STR 65"],damage:"2D+4",cost:"40tl",desc:"A massive sword, wielded by our mightiest champions in the name of honor and duty."},ii={itemType:"Weapon",image_name:"fist",name:"Unarmed (no kung fu)",subType:"Melee",hands:1,range:0,attributes:[],damage:"1/2D",cost:"--",desc:"Combat without weapons, the essence of our martial arts philosophy and discipline."},Ya={itemType:"Weapon",image_name:"whip",name:"Whip",subType:"Melee",hands:1,range:3,attributes:["DEX 65"],damage:"1D+2",cost:"3tl",desc:"A flexible weapon, sometimes used by our horsemen and temple guardians in times of need."},Ja=Zs;Ja.name+=" (pair)";const Za=dl;Za.name+=" (pair)";const ri=ea;ri.name+=" (pair)";const oi=fl;oi.name+=" (pair)";const ci=ml;ci.name+=" (pair)";const on=[Ys,Sn,dl,Va,Js,fl,Zs,xs,Ve,Fn,Re,ei,ti,Xi,ml,ea,Ui,zi,Vi,Dn,Hn,Ge,Ka,Xn,ni,ai,li,Un,zn,Vn,Wn,Lt,Rt,Qa,si,ii,Ya],Mn={name:"Accupoint Strike",desc:"Attack paralyzes limb or renders mute/unmute."},Yt={name:"Arrow Cutting",desc:"No Hard penalty for resisting ranged attacks."},ui={name:"Battle Magic",desc:"Cast 1 spell, ignore multi- action penalty but advance it normally."},$n={name:"Blind Fighting",desc:"No penalty fighting unarmed/melee in the dark, in fog, against unseen foes, etc."},qt={name:"Counter Attack",desc:"If resist (or are missed by) unarmed/melee attack, may attack attacker, multi-action applies."},Jt={name:"Danger Sense",desc:"No hard penalty resisting hidden attacks. Re-roll failed LOG checks for surprise & when attacked from stealth."},It={name:"Deadly Attack",desc:"+2 to dmg to unarmed or with style’s weapon. Take multiple times for even more dmg!"},An={name:"Defender",desc:"Make physical resistance checks for anyone adjacent, even if they fail their resistance roll."},Et={name:"Disarm",desc:"Attack knocks item foe holds 1⁄2D spaces random direction. Critical success, you get what they had. Two handed weapons & iron wrist rings hard to disarm."},Cn={name:"Distant Strike",desc:"Melee attacks have a range of 10 spaces. Take multiple times to strike very far away!"},Ln={name:"Explosive Attack",desc:"Attack does 1⁄2D dmg & knocks adjacent foes back 1 space per Warrior level. Resistance checks against this are hard. If rank of foe is half your Warrior level or less, they are knocked prone as well."},Zt={name:"Feint",desc:"Declare one successful attack a feint. If foe fails resistance check you cause half normal dmg & if your next attack (this turn or next) against same foe hits, treat as critical success."},Rn={name:"Hidden Weapons",desc:"Attacks from your small hidden weapons are hard to defend against or find when you’re searched. Danger sense cancels resistance check penalty."},xa={name:"Hold",desc:"Inflicts unarmed attack dmg to held enemy each turn the hold is maintained. Foes may break free of hold by winning a contested Warrior skill check."},Kn={name:"Improved Landing",desc:"Warrior skill check, take no dmg from being thrown/ hurled or from falling 10 spaces per Warrior level."},qn={name:"Instant Stand",desc:"At any time get up from prone position, no check required & multi-action penalty unaffected."},Qn={name:"Iron Skin",desc:"Warrior level 1: very light armor. Level 3: light. Level 5: medium. If wearing armor, treat DR one level higher than the best of iron skin or armor worn (max DR 1D+2)."},el={name:"Keep at Bay",desc:"Using long weapon, may attack out of turn if foe moves into adjacent space. If cause dmg, move foe one space away."},Yn={name:"Meditation",desc:"Recover one bonus qi. Each hour of trance equals two hours sleep. Aware of surroundings."},tl={name:"Mighty Blows",desc:"+1D to dmg caused with two-handed weapons. Or normal dmg to two adjacent foes with one attack (defended against separately)."},In={name:"Move-By",desc:"If attack roll succeeds, MOV x2 & attack one target along path without stopping. If fail, MOV+2 & miss target. If move past multiple targets, may make attack against each with normal multi-action rules. Foes may not press the attack against someone using move-by."},xe={name:"Multiple Attacks",desc:"One extra melee or ranged weapon attack per turn. Ignore multi-action penalty but advance it normally."},bt={name:"Multiple Defenses",desc:"One extra physical resistance check per turn. Ignore multi- action penalty but advance it normally."},xt={name:"One Against All",desc:"No hard penalty when fighting outnumbered."},en={name:"Power Attack",desc:"For each -10 to attack you accept, dmg +2."},tn={name:"Power Defense",desc:"No hard penalty when fighting armed foes when without a weapon."},En={name:"Qi Resistance",desc:"+10 per Warrior level to resist spells."},nl={name:"Reverse Hold",desc:"Successful attack roll while held reverse the hold."},Gn={name:"Roll with the Impact",desc:"Gain DR equal to Warrior level x2 when you move 1⁄2D spaces away from enemy. Enemy chooses direction. DR stacks with any other DR."},di={name:"Suspension",desc:"Enter trance to appear dead for duration you choose. Successful Alchemist or Detective skill check detects suspension."},Jn={name:"Swiftness",desc:"Always add Warrior level to MOV score. Use Warrior score for DEX when sprinting if it is higher."},al={name:"Take Down",desc:"One attack causes normal dmg & knocks foe prone."},ll={name:"Throw",desc:"One attack hurls foe 1D spaces any direction you choose, causes normal dmg & renders foe prone."},nn={name:"Two-Weapon Fighting",desc:"+10 to melee score, +10 to physical resistance checks when fighting with two one-handed weapons."},an={name:"Unblockable Attack",desc:"One attack may be declared unblockable per foe per encounter. Critical success needed to resist."},ln={name:"Vivacity",desc:"Use DEX (instead of STR) to calculate melee Warrior skill."},sn={name:"Whirlwind Attack",desc:"Make one attack roll per turn to hit all adjacent foes. One dmg roll is used for all foes."},ta=[Mn,Yt,ui,$n,qt,Jt,It,An,Et,Cn,Ln,Zt,Rn,xa,Kn,qn,Qn,el,Yn,tl,In,xe,bt,xt,en,tn,En,nl,Gn,di,Jn,al,ll,nn,an,ln,sn],sl=[{name:"Ascending Dragon Fist",desc:"Favored by tough pugilists, this style teaches few weapons. Rather it teaches how to take hard blows from blunt weapons, how to dodge sharp-edged weapons, and how to hit like a hammer.",type:"External",weapons:[Dn],techniques:[It,Ln,Qn,xe,en,tn]},{name:"Bandit Beating Staff",desc:"This style is taught by the Beggar Sect. The staff is used to strike at the head and feet while elbows and knees are used to strike the body. Staggering and spinning out of reach helps in their defense. This style teaches many methods of getting out of danger.",type:"Internal",weapons:[Js,Ve,Rt,Qa],techniques:[$n,Jt,Zt,el,bt,Gn]},{name:"Bowing Dragon",desc:"This style is taught exclusively to Bowing Dragon Monks. They practice humility and study the harmonies of qi. Many of Bowing Dragon monks have levels in the Mystic skill. Their renowned Bowing Dragon style combines kicks, back fists, knee strikes, use of the staff, and a few exotic weapons.",type:"Internal",weapons:[Rt,Dn,Lt,Qa,li],techniques:[Yt,En,qt,Et,Yn,tn]},{name:"Fiery Dragon",desc:"This energetic style uses close-in strikes, accupoint strikes, and short quick kicks. It is taught in all areas of Longzhi.",type:"External",weapons:[Va,Ja,Dn,Xn,zn],techniques:[Mn,Jt,In,bt,xt,nn]},{name:"Flying Daggers",desc:"This style is taught by the White Lotus Assassins. Standard blocks, punches, and kicks round out this style's exceptional melee and thrown knife techniques.",type:"Internal",weapons:[Ve,Ge,Vn,Re],techniques:[Mn,$n,Jt,It,Zt,Rn]},{name:"Flying Serpent",desc:"This kung fu style is marked by fluid snake-like movements to confuse and coil around a foe.",type:"Internal",weapons:[Sn,Ve,Lt,Ya],techniques:[xa,In,nl,Gn,ll,ln]},{name:"Golden Fist",desc:"Golden Fist is taught to imperial troops. It is a solid fighting style, if a bit unimaginative. The style is now common as many retired soldiers have opened kung fu schools.",type:"External",weapons:[Sn,xs,Ys,Fn,Ka,Lt],techniques:[Mn,An,Et,tl,al,sn]},{name:"Honorable Way of Thunder",desc:"This style uses the 'Big Sweeper' flail (greatflail). The striking end of the flail is quite heavy (often studded) and the handle is at least 2-4 times as long. The unarmed skills of this style emphasize powerful stomps and elbow strikes. It is taught throughout the empire. Practitioners tend to be large and strong.",type:"External",weapons:[fl,ei,ti,si,ai],techniques:[An,Ln,tl,en,an,sn]},{name:"Judgment of the Dark Count",desc:"The Dark Judges are a very secret organization. Only whispers of them are ever heard. What is known is that they work for someone powerful and kill without mercy. They operate in the dead of night, wearing all black clothing and veiled hats to hide their features.",type:"Internal",weapons:[Sn,Ve,Ge,Xn,Ya],techniques:[$n,qt,Et,Zt,di,Jn]},{name:"Law of a Thousand Strikes",desc:"A style emphasizing strong short strikes with the staff and flying kicks and staff sweeps. Law of a Thousand Strikes is taught throughout the lands.",type:"External",weapons:[Rt,Re,zn,Hn],techniques:[qt,Cn,Ln,xe,xt,sn]},{name:"Path of One Hundred Flying Eagles",desc:"This style combines maneuverability with rapid arrow shots that can knock other arrows out of the air.",type:"Internal",weapons:[Hn,Ge,ni,Vn],techniques:[Yt,It,xe,en,Jn,ln]},{name:"Peach Blossoms",desc:"Favored by dancers, minstrels, and temptresses, this style relies on subtle movements and hidden weapons. Long sleeves and loose-fitting clothing are used to hide weapons and misdirect opponents. The Jianmei or 'Sword Sister' sect teaches this style of kung fu to its members.",type:"Internal",weapons:[Ve,Re,Ge,Un,Wn],techniques:[Mn,Yt,Rn,Kn,xe,ln]},{name:"Pouncing Panther",desc:"This style is less common than the others in this list. Its teachers are secretive. It emphasizes a sudden and lethal attack to end the fight quickly. It is said that some of these techniques were stolen from the White Lotus Assassins who do not share their secret techniques. All students of the Pouncing Panther style take the Deadly Attack technique at least twice. This is why this style only teaches five techniques.",type:"External",weapons:[Za,Xn,Vn],techniques:[It,en,Jn,nn,an]},{name:"Red Crane Wodan",desc:"A branch of the Wodan Monks practices this unique kung fu style, mixing sword and sorcery to deadly effect. All Wodan monks are known to right wrongs in the world, but the Red Cranes are active hunters of evil. They tend to work alone but sometimes join like-minded groups.",type:"Internal",weapons:[Ve,Ge,Rt,Re],techniques:[ui,En,Jt,Cn,xt,sn]},{name:"Reveling Scholar",desc:"This style feigns the appearance of a swaying and staggering drunkard. The practitioner is not drunk but is using very deceptive techniques to draw his opponents in and lower their defenses.",type:"External",weapons:[Sn,Re,Ge,Wn,Lt],techniques:[qt,Et,Zt,qn,bt,tn]},{name:"Shower of Flowers",desc:"This style combines agile kicks and knife-hand strikes with small hidden, thrown weapons.",type:"External",weapons:[Ve,Re,Un,Re],techniques:[It,Rn,xe,xt,an,ln]},{name:"Soaring Dragon in the Sky",desc:"This common saber style is favored by mercenaries, bandits, and many escort services. It is easy to learn though not very elegant.",type:"External",weapons:[Rt,Fn,Lt,ml],techniques:[Jt,It,qn,el,bt,en]},{name:"Spiraling Wind Storms",desc:"This style teaches one to use the energy of others and then add more external energy to devastate them.",type:"External",weapons:[dl,Ve,zn],techniques:[xa,qn,Yn,tn,nl,ll]},{name:"Ten Styles of Life Taking Swift Sword",desc:"The Lustrous Phoenix Society made this style famous. It is favored by those that use agility over strength; the melee weapons are often used in pairs.",type:"Internal",weapons:[Re,Ge,Wn,Un],techniques:[qt,Et,xe,nn,an,ln]},{name:"Tiger Strike",desc:"This style is fast and furious. It has short quick kicks and lightning-fast punches with arm and foot blocks. Tiger Strike is synonymous with the Red Tiger Clan kung fu sect. Their students are taught to seek out fights (not necessarily lethal) to better their skill.",type:"External",weapons:[Ja,ri,Ka,Lt],techniques:[$n,Ln,Kn,Qn,xe,nn]},{name:"Tawn Blade",desc:"Named after one of the five great heroes, this style uses close-in sword blocks and resting the flat of the blade along the body or limbs to block attacks followed by swift thrusts, kicks, and sweeps. This style is very good at taking advantage of an opponent's mistakes. The Red Pelican Sect is known for using this kung fu style and their roots may originate with the famous hero Tsun.",type:"Internal",weapons:[Va,Re,Ge,ea],techniques:[qt,Kn,qn,In,xe,bt]},{name:"Unrelenting River",desc:"This style teaches its students to weather all attacks to survive and finish off the opponent.",type:"External",weapons:[Za,oi,ci,Dn],techniques:[En,Qn,bt,tn,Gn,nn]},{name:"Unyielding Wall",desc:"This style favors the use of a shield and dao. The shield is just large enough to cover the whole body when crouching. The wearer can roll with the shield between their body and the opponent to maximize defense while getting in close melee range. The shield is used to block attacks as well as hide attacks.",type:"Internal",weapons:[Fn,Re,ea,Hn],techniques:[Yt,An,Zt,In,bt,an]},{name:"Willow Blade Song",desc:"A style marked by darting movements and whipping of the sword blade, followed by close-in backhand punches and strikes with elbows and knees. With these fast movements come a weaving and circling motion much like that of the branches of a weeping willow tree.",type:"Internal",weapons:[Re,Ge,Wn],techniques:[Yt,Cn,Rn,Yn,Gn,al]},{name:"Wodon",desc:"The Wodan Monks meditate in hidden mountaintop monasteries in Mount Wodan. There they practice qi cultivation and their Wodan style of martial arts. Many Wodan monks have levels in sorcerer. This style is marked by rapid kicks and punches and single or twin swords.",type:"Internal",weapons:[Ve,Ge,Rt,Re],techniques:[En,An,Et,Cn,xt,sn]}],na=[{name:"Very Light Armour",desc:"Heavy Furs, Leather Cuirass",DR:"1-2",requirement:"45",cost:"50tl",itemType:"Armour"},{name:"Light Armour",desc:"Leather, Lamellar Cuirass",DR:"1/2D",requirement:"55",cost:"200tl",itemType:"Armour"},{name:"Medium Armour",desc:"Ceremonial, Full Lamellar",DR:"1D",requirement:"65",cost:"550tl",itemType:"Armour"},{name:"Heavy Armour",desc:"Mirror Armor, Mountain Pattern",DR:"1D+2",requirement:"75",cost:"1250tl",itemType:"Armour"},{name:"Very Heavy Armour",desc:"Dragonplate, Demonplate",DR:"1D+4",requirement:"95",cost:"5000tl",itemType:"Armour"},{name:"Shield**",desc:"Grants +20 to physical resistance checks, cannot be used with 2-handed weapons",DR:"--",requirement:"--",cost:"10tl",itemType:"Armour"}],fi=[{name:"Alchemist, Magical advisor, etc.",cost:"20tl (per day)",itemType:"Companion"},{name:"Archer (Rank:1-3)*",desc:"Minor NPC with a score equal to 40+10xRank.",cost:"2tl X Rank (per day)",itemType:"Companion"},{name:"Artist (novice/pro/expert)",cost:"3/15/50tl (per day)",itemType:"Companion"},{name:"Craftsman (novice/pro/expert)",cost:"2/10/25tl (per day)",itemType:"Companion"},{name:"Sailor/Captain (Rank:1/5)*",desc:"Minor NPC with a score equal to 40+10xRank.",cost:"2tl/50tl (per day)",itemType:"Companion"},{name:"Servant (unskilled/skilled)",cost:"1tl/5tl (per day)",itemType:"Companion"},{name:"Footman (Rank:1-3)*",desc:"Minor NPC with a score equal to 40+10xRank.",cost:"1tl X Rank (per day)",itemType:"Companion"},{name:"Horseman (Rank:1-3)*",desc:"Minor NPC with a score equal to 40+10xRank.",cost:"4tl X Rank (per day)",itemType:"Companion"},{name:"Sellsword (Rank:3-5)*",desc:"Minor NPC with a score equal to 40+10xRank.",cost:"5tl X Rank (per day)",itemType:"Companion"}],mi=[{name:"Bird, pigeon or song bird/hawk",cost:"1tl/30tl",itemType:"Companion"},{name:"Dog, domestic/guard",cost:"4tl/25tl",itemType:"Companion"},{name:"Monkey",cost:"15tl",itemType:"Companion"}],hi=[{name:"Donkey",desc:"150 lbs.",cost:"8tl",itemType:"Mount"},{name:"Mule",desc:"650 lbs.",cost:"25tl",itemType:"Mount"},{name:"Riding Horse",desc:"450 lbs.",cost:"75tl",itemType:"Mount"},{name:"War Horse",desc:"600 lbs.",cost:"250tl",itemType:"Mount"}],pi=[{name:"Cures for Minor Ailments (fever, headache, rash)",cost:"20tl",itemType:"Medicine"},{name:"Mild Poison Antidote (Mild poisons 60%)*",cost:"100tl",itemType:"Medicine"},{name:"Moderate Poison Antidote (Moderate poisons 60%)*",cost:"200tl",itemType:"Medicine"},{name:"Strong Poison Antidote (Strong poisons 60%)*",cost:"400tl",itemType:"Medicine"},{name:"Pill of the Ox (STR)*",cost:"100tl/+10 bonus",itemType:"Medicine"},{name:"Pill of Unmatched Grace (DEX) **",cost:"100tl/+10 bonus",itemType:"Medicine"},{name:"Pill of the Focused Scholar (LOG) **",cost:"100tl/+10 bonus",itemType:"Medicine"},{name:"Pill of Unwavering Determination (WIL) **",cost:"100tl/+10 bonus",itemType:"Medicine"},{name:"Heavenly Pill (1D Healing)***",cost:"100tl/1D Healing",itemType:"Medicine"}],gi=[{name:"Alchemist Kit (50tl materials)",cost:"85tl",itemType:"General"},{name:"Backpack/Rucksack (empty)",cost:"2tl",itemType:"General"},{name:"Barrel, wooden",cost:"1tl",itemType:"General"},{name:"Book (50 pages, blank)",cost:"1tl",itemType:"General"},{name:"Blanket or bedroll",cost:"1tl",itemType:"General"},{name:"Block and tackle",cost:"5tl",itemType:"General"},{name:"Boat (river/sail)",cost:"1,000tl/4,000tl",itemType:"General"},{name:"Boots (simple/fine)",cost:"5tl/10tl+",itemType:"General"},{name:"Box, small/large",cost:"10tl/30tl",itemType:"General"},{name:"Bowl (small/large)",cost:"1tl/3tl",itemType:"General"},{name:"Building (small/large)",cost:"250tl/2,000tl",itemType:"General"},{name:"Candles (10)",cost:"1tl",itemType:"General"},{name:"Cart/Wagon",cost:"55tl/200tl",itemType:"General"},{name:"Case, map or scroll",cost:"1tl",itemType:"General"},{name:"Castle (small/large)",cost:"20,000tl/200,000th",itemType:"General"},{name:"Chest, small/large",cost:"2tl/4tl",itemType:"General"},{name:"Clothes (simple/fine)",cost:"1tl/25tl+",itemType:"General"},{name:"Crowbar",cost:"2tl",itemType:"General"},{name:"Diviner kit",cost:"50tl",itemType:"General"},{name:"Fan (simple/fine)",cost:"1tl/12tl",itemType:"General"},{name:"Firecrackers (long strip)***",cost:"2tl",itemType:"General"},{name:"Flask or Vial",cost:"1tl",itemType:"General"},{name:"Flint and steel",cost:"2tl",itemType:"General"},{name:"Grappling hook",cost:"1tl",itemType:"General"},{name:"Hammer",cost:"5tl",itemType:"General"},{name:"Incense (9 sticks)",cost:"1tl",itemType:"General"},{name:"Incense (ceremonial burner)",cost:"5tl",itemType:"General"},{name:"Ink stick",cost:"2tl",itemType:"General"},{name:"Iron manacles w/key",cost:"5tl",itemType:"General"},{name:"Iron pot",cost:"1tl",itemType:"General"},{name:"Junk (ship small/large)",cost:"12,000tl/32,000tl",itemType:"General"},{name:"Ladder, 10-foot",cost:"1tl",itemType:"General"},{name:"Lantern",cost:"9tl",itemType:"General"},{name:"Lock",cost:"20tl",itemType:"General"},{name:"Meal (simple/great feast)",cost:"1tl/5tl+",itemType:"General"}];[...on,...na,...fi,...mi,...hi,...pi,...gi];const cn=[...fi,...mi,...hi,...pi,...gi],il=[{name:"Aid",range:"Touch",usage:"1/turn",duration:"Encounter",resist:"None",effect:"+10 per level to one ability of target. Level 3 Range: 10 spaces. Level 4: Effect 4 targets or all 4 abilities on one target."},{name:"Animate",range:"5 spaces per level",usage:"Varies",duration:"1 day per level",resist:"None",effect:"Animated creature of rank 5 own rank. Can create total number of creatures per day equal to sorcerer level. Become drained to make animation permanent."},{name:"Blessing/Curse",range:"5 spaces per level",usage:"1/day per level",duration:"Encounter",resist:"WIL",effect:"Priest choose which: blessed targets receive +10 ability of choice; cursed targets receive -10 penalty."},{name:"Charm",range:"5 spaces per level",usage:"1/turn",duration:"10 turns per level",resist:"WIL+10/rank",effect:"Target becomes friendly, flees, surrenders, etc. (lower rank vs caster’s sorcerer’s level) becomes friendly, flees, surrenders, etc. Level 6 permanent if target is drained."},{name:"Commune",range:"5 spaces per level",usage:"1/hour",duration:"Concentrate",resist:"None",effect:"Talk with target (dead, alive, inanimate). Level 4 talk with dead and insect life (yes/no answers). Level 6 cast permanent at expense of being drained. If target is a sorcerer: telepath even if levels range (trap sorcerer in iron cage to break this)."},{name:"Conjure",range:"1 space",usage:"2/day per level",duration:"10 turns per level",resist:"None",effect:"Conjures nonspecific (unless owned by caster) mundane items from unknowable place. Penalties for item’s value (+10 value, weight (-10 per 100 pounds), or scarcity). Outside of combat Duration: 20 hours. Level 6 item stays permanently at the cost of being drained."},{name:"Dispel",range:"Sight",usage:"Unlimited",duration:"Instant",resist:"Special",effect:"Cancel a spell effect. -10 times the skill level sorcerer who cast it. Encounter it and cancel a spell being cast if you have initiative and hold your action at cost of being drained. End a spell. A permanent effect can be dispelled at the cost of being drained."},{name:"Divination",range:"Special",usage:"1/hour",duration:"Concentrate",resist:"None",effect:"Send a sense (two at level 3, three at level 6) elsewhere at speed of 10 spaces per turn through all materials but lead."},{name:"Domination",range:"5 spaces per level",usage:"1/day per level",duration:"10 turns per level",resist:"WIL+10/rank",effect:"Seize control of victim, who perceives but cannot act. Experience one of victim’s memories per turn (no skill check), alter/delete one (skill check), or command victim to perform actions (may require skill check). Metal helmets give +10 to resist. Protection spell announces."},{name:"Entangle",range:"10 spaces per level",usage:"Unlimited",duration:"10 turns per level",resist:"DEX",effect:"Affects area (select 1 space per 2x level). Anyone in or entering area has half MOV if pass check. Outside of combat duration is 2D hours. Damage if cast in combat or becomes permanent at cost of being drained."},{name:"Hinder",range:"5 spaces per level",usage:"1/turn",duration:"Encounter",resist:"WIL",effect:"-10 per level to one ability of target. Level 3 affect 2 targets. Level 6 affect 10 targets or paralyze one until dispelled."},{name:"Illusion",range:"Sight",usage:"1/turn",duration:"10 turns per level",resist:"WIL",effect:"Fool one sense (two at level 3 and three at level 6). Viewers are affected as if illusion were real unless make resistance check. Outside of combat Duration: 2D hours. Level 6 become drained to make duration permanent."},{name:"Offensive Strike",range:"10 spaces per level",usage:"Unlimited",duration:"Instant",resist:"DEX",effect:"Cause 1D damage (2D at level 3, 3D at level 5) to all in area (target space, burst 3), or to single target (+10 damage). Only enchanted armor DR applies. Or charge weapon to cause the magical damage (plus weapon’s damage) on next successful hit."},{name:"Protection",range:"10 spaces per level",usage:"1/turn",duration:"Encounter",resist:"None",effect:"Target gets +1 die per caster level to resistance checks against spells or physical attacks (caster’s choice). Level 3 add DR5 to an armor (level 5 add DR10). Level 6 become drained to make one effect permanent."},{name:"Purify",range:"0",usage:"1/day per level",duration:"Special",resist:"WIL+10/rank",effect:"Reveal & force corporeal spirits/demons in area (burst 5x level), +optional damage 2D per level. Level 3 prevent spirits/demons entering area 1D turns (outside combat 1D hours) per level. Level 6, be drained to purify building/region ejecting evil magic & spirits with rank < caster."},{name:"Spirit Link",range:"2 spaces per level",usage:"1/day",duration:"1 week per level",resist:"WIL",effect:"Links spirit to another. If one is suffering, the other knows it and the spirit link will guide them to each other. Level 3 linked pair shares (5) resistance check if unwilling. Level 4 share BP (resistance check if unwilling). Level 6 link may be permanent at the cost of being drained."},{name:"Telekinesis",range:"2 spaces per level",usage:"Unlimited",duration:"Concentrate",resist:"STR",effect:"Invisible arm & hand (2 spaces per level). Skill check to defend against attacks in place of resistance checks. Arm STR determined by level. Can also erect invisible walls of resistance."},{name:"Transform",range:"5 spaces per level",usage:"2/day per level",duration:"Varies",resist:"STR",effect:"Target becomes another creature of reasonable size and rank 5 target’s rank. Level 3 duration is 1 day. Or, reshape 50 lbs material for 20 hours (20 days at level 3), change actual material level 5). Level 6 permanent at cost of being drained."},{name:"Transport",range:"5 spaces per level",usage:"1/turn",duration:"Varies",resist:"DEX",effect:"Levitate 1 space/turn. Level 3 levitate full MOV for 10 hours. Level 4 fly 2x MOV for 20 hours. Level 5 blink anywhere in sight. Level 6 teleport anywhere caster is familiar. Level 6 make a permanent gateway linking two locations at cost of being drained."}];function Ki(t){let e,n,a,l,s,r,u,o;const m=t[3].default,h=rl(m,t,t[2],null);return{c(){e=d("a"),e.textContent="?",n=g(),a=d("dialog"),h&&h.c(),l=g(),s=d("form"),s.innerHTML='<button class="close svelte-19ea5mv">X</button>',b(s,"method","dialog"),a.open=t[0],b(a,"class","svelte-19ea5mv")},m(f,k){S(f,e,k),S(f,n,k),S(f,a,k),h&&h.m(a,null),i(a,l),i(a,s),r=!0,u||(o=F(e,"click",t[1]),u=!0)},p(f,[k]){h&&h.p&&(!r||k&4)&&cl(h,m,f,f[2],r?ol(m,f[2],k,null):ul(f[2]),null),(!r||k&1)&&(a.open=f[0])},i(f){r||(D(h,f),r=!0)},o(f){A(h,f),r=!1},d(f){f&&(T(e),T(n),T(a)),h&&h.d(f),u=!1,o()}}}function Qi(t,e,n){let{$$slots:a={},$$scope:l}=e,s=!1;function r(){n(0,s=!s)}return t.$$set=u=>{"$$scope"in u&&n(2,l=u.$$scope)},[s,r,l,a]}class Yi extends vt{constructor(e){super(),kt(this,e,Qi,Ki,at,{})}}function Yl(t,e,n){const a=t.slice();return a[12]=e[n],a[14]=n,a}function Jl(t){let e,n,a;return{c(){e=d("button"),e.textContent="🔼"},m(l,s){S(l,e,s),n||(a=F(e,"click",t[5]),n=!0)},p:Y,d(l){l&&T(e),n=!1,a()}}}function Zl(t){let e,n,a;return{c(){e=d("button"),e.textContent="🔽"},m(l,s){S(l,e,s),n||(a=F(e,"click",t[6]),n=!0)},p:Y,d(l){l&&T(e),n=!1,a()}}}function xl(t){let e,n,a=t[12].name+"",l,s,r,u=t[12].desc+"",o,m;return{c(){e=d("div"),n=d("h4"),l=M(a),s=g(),r=d("p"),o=M(u),m=g()},m(h,f){S(h,e,f),i(e,n),i(n,l),i(e,s),i(e,r),i(r,o),i(e,m)},p(h,f){f&1&&a!==(a=h[12].name+"")&&H(l,a),f&1&&u!==(u=h[12].desc+"")&&H(o,u)},d(h){h&&T(e)}}}function Ji(t){let e,n=t[0].name+"",a,l,s,r,u=K(t[0].linkedSkill.abilities),o=[];for(let m=0;m<u.length;m+=1)o[m]=xl(Yl(t,u,m));return{c(){e=d("h3"),a=M(n),l=M(" Abilities"),s=g();for(let m=0;m<o.length;m+=1)o[m].c();r=Ot()},m(m,h){S(m,e,h),i(e,a),i(e,l),S(m,s,h);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(m,h);S(m,r,h)},p(m,h){if(h&1&&n!==(n=m[0].name+"")&&H(a,n),h&1){u=K(m[0].linkedSkill.abilities);let f;for(f=0;f<u.length;f+=1){const k=Yl(m,u,f);o[f]?o[f].p(k,h):(o[f]=xl(k),o[f].c(),o[f].m(r.parentNode,r))}for(;f<o.length;f+=1)o[f].d(1);o.length=u.length}},d(m){m&&(T(e),T(s),T(r)),_e(o,m)}}}function Zi(t){let e,n,a=t[0].name+"",l,s,r,u=t[0].baseAbility+"",o,m,h=t[3][t[0].baseAbility]+"",f,k,_,w,$,O,y,C,ae,Q,U,le,z,P,E,L,W,J=t[3][t[0].name+"Score"]+"",R,ue,me,q=t[0].linkedSkill.abilities.map(es).join(", ")+"",Z,Oe,he,pe,fe,De,x=!t[2]&&Jl(t),se=!t[2]&&Zl(t);return he=new Yi({props:{$$slots:{default:[Ji]},$$scope:{ctx:t}}}),{c(){e=d("tr"),n=d("td"),l=M(a),s=g(),r=d("td"),o=M(u),m=M("/2 ("),f=M(h),k=M(")"),_=g(),w=d("td"),x&&x.c(),$=g(),O=d("input"),y=g(),se&&se.c(),C=g(),ae=d("td"),Q=d("select"),U=d("option"),U.textContent="P (+20)",le=d("option"),le.textContent="S (+10)",z=d("option"),z.textContent="None",E=g(),L=d("td"),W=d("div"),R=M(J),ue=g(),me=d("td"),Z=M(q),Oe=g(),ne(he.$$.fragment),b(n,"class","svelte-hfm9pg"),b(r,"class","svelte-hfm9pg"),b(O,"type","number"),b(O,"min","0"),b(O,"max","6"),O.disabled=t[2],b(w,"class","svelte-hfm9pg"),U.__value=2,I(U,U.__value),le.__value=1,I(le,le.__value),z.__value=0,I(z,z.__value),Q.disabled=P=t[0].level<=0,t[0].relation===void 0&&Ie(()=>t[9].call(Q)),b(ae,"class","svelte-hfm9pg"),b(L,"class","svelte-hfm9pg"),b(me,"class","left svelte-hfm9pg")},m(G,X){S(G,e,X),i(e,n),i(n,l),i(e,s),i(e,r),i(r,o),i(r,m),i(r,f),i(r,k),i(e,_),i(e,w),x&&x.m(w,null),i(w,$),i(w,O),I(O,t[0].level),i(w,y),se&&se.m(w,null),i(e,C),i(e,ae),i(ae,Q),i(Q,U),i(Q,le),i(Q,z),_t(Q,t[0].relation,!0),i(e,E),i(e,L),i(L,W),i(W,R),i(e,ue),i(e,me),i(me,Z),i(me,Oe),ee(he,me,null),pe=!0,fe||(De=[F(O,"input",t[7]),F(O,"change",t[8]),F(Q,"change",t[9]),F(Q,"change",t[10])],fe=!0)},p(G,[X]){(!pe||X&1)&&a!==(a=G[0].name+"")&&H(l,a),(!pe||X&1)&&u!==(u=G[0].baseAbility+"")&&H(o,u),(!pe||X&9)&&h!==(h=G[3][G[0].baseAbility]+"")&&H(f,h),G[2]?x&&(x.d(1),x=null):x?x.p(G,X):(x=Jl(G),x.c(),x.m(w,$)),(!pe||X&4)&&(O.disabled=G[2]),X&1&&be(O.value)!==G[0].level&&I(O,G[0].level),G[2]?se&&(se.d(1),se=null):se?se.p(G,X):(se=Zl(G),se.c(),se.m(w,null)),(!pe||X&1&&P!==(P=G[0].level<=0))&&(Q.disabled=P),X&1&&_t(Q,G[0].relation),(!pe||X&9)&&J!==(J=G[3][G[0].name+"Score"]+"")&&H(R,J),(!pe||X&1)&&q!==(q=G[0].linkedSkill.abilities.map(es).join(", ")+"")&&H(Z,q);const Pe={};X&32769&&(Pe.$$scope={dirty:X,ctx:G}),he.$set(Pe)},i(G){pe||(D(he.$$.fragment,G),pe=!0)},o(G){A(he.$$.fragment,G),pe=!1},d(G){G&&T(e),x&&x.d(),se&&se.d(),te(he),fe=!1,nt(De)}}}const es=t=>t.name;function xi(t,e,n){let a,l=Y,s=()=>(l(),l=aa(o,y=>n(3,a=y)),o);t.$$.on_destroy.push(()=>l());const r=Ks();let{skill:u}=e,{character:o}=e;s();let{lockSheet:m}=e;const h=(y,C)=>r("update",{skill:u,value:{...u,[y]:C}}),f=()=>{u.level>=6||h("level",n(0,u.level+=1,u))},k=()=>{u.level<=0||h("level",n(0,u.level-=1,u))};function _(){u.level=be(this.value),n(0,u)}const w=y=>{var C;return h("level",Number(((C=y==null?void 0:y.target)==null?void 0:C.value)||0))};function $(){u.relation=xn(this),n(0,u)}const O=y=>{var C;return h("relation",Number(((C=y==null?void 0:y.target)==null?void 0:C.value)||0))};return t.$$set=y=>{"skill"in y&&n(0,u=y.skill),"character"in y&&s(n(1,o=y.character)),"lockSheet"in y&&n(2,m=y.lockSheet)},[u,o,m,a,h,f,k,_,w,$,O]}class Ze extends vt{constructor(e){super(),kt(this,e,xi,Zi,at,{skill:0,character:1,lockSheet:2})}}function ts(t){let e;return{c(){e=M(t[1])},m(n,a){S(n,e,a)},p(n,a){a&2&&H(e,n[1])},d(n){n&&T(e)}}}function ns(t){let e;return{c(){e=M(t[4])},m(n,a){S(n,e,a)},p(n,a){a&16&&H(e,n[4])},d(n){n&&T(e)}}}function as(t){let e;return{c(){e=M(t[3])},m(n,a){S(n,e,a)},p(n,a){a&8&&H(e,n[3])},d(n){n&&T(e)}}}function ls(t){let e,n;return{c(){e=d("p"),n=M(t[9])},m(a,l){S(a,e,l),i(e,n)},p(a,l){l&512&&H(n,a[9])},d(a){a&&T(e)}}}function er(t){let e,n,a,l,s,r,u,o,m,h=t[1]&&ts(t),f=t[2]=="Weapon"&&ns(t),k=t[2]=="Armour"&&as(t),_=t[9]&&ls(t);return{c(){e=d("div"),n=d("h4"),a=M(t[0]),l=g(),h&&h.c(),s=g(),f&&f.c(),r=g(),k&&k.c(),u=g(),o=d("div"),m=g(),_&&_.c(),b(e,"class","card svelte-1b0js32")},m(w,$){S(w,e,$),i(e,n),i(n,a),i(e,l),h&&h.m(e,null),i(e,s),f&&f.m(e,null),i(e,r),k&&k.m(e,null),i(e,u),i(e,o),i(o,m),_&&_.m(o,null)},p(w,[$]){$&1&&H(a,w[0]),w[1]?h?h.p(w,$):(h=ts(w),h.c(),h.m(e,s)):h&&(h.d(1),h=null),w[2]=="Weapon"?f?f.p(w,$):(f=ns(w),f.c(),f.m(e,r)):f&&(f.d(1),f=null),w[2]=="Armour"?k?k.p(w,$):(k=as(w),k.c(),k.m(e,u)):k&&(k.d(1),k=null),w[9]?_?_.p(w,$):(_=ls(w),_.c(),_.m(o,null)):_&&(_.d(1),_=null)},i:Y,o:Y,d(w){w&&T(e),h&&h.d(),f&&f.d(),k&&k.d(),_&&_.d()}}}function tr(t,e,n){let{name:a}=e,{desc:l}=e,{itemType:s}=e,{DR:r}=e,{hands:u}=e,{range:o}=e,{usage:m}=e,{duration:h}=e,{resist:f}=e,{effect:k}=e;return t.$$set=_=>{"name"in _&&n(0,a=_.name),"desc"in _&&n(1,l=_.desc),"itemType"in _&&n(2,s=_.itemType),"DR"in _&&n(3,r=_.DR),"hands"in _&&n(4,u=_.hands),"range"in _&&n(5,o=_.range),"usage"in _&&n(6,m=_.usage),"duration"in _&&n(7,h=_.duration),"resist"in _&&n(8,f=_.resist),"effect"in _&&n(9,k=_.effect)},[a,l,s,r,u,o,m,h,f,k]}class la extends vt{constructor(e){super(),kt(this,e,tr,er,at,{name:0,desc:1,itemType:2,DR:3,hands:4,range:5,usage:6,duration:7,resist:8,effect:9})}}function nr(t,e,n){const a=t.slice();return a[12]=e[n],a[14]=n,a}function ar(t){let e;return{c(){e=d("option"),e.textContent=`${t[12].name}`,e.__value=t[12].name,I(e,e.__value)},m(n,a){S(n,e,a)},p:Y,d(n){n&&T(e)}}}function lr(t){let e,n,a,l,s,r,u,o,m,h,f,k,_,w=(t[0].style||"Untrained")+"",$,O,y,C,ae=t[3].STR+"",Q,U,le,z,P,E,L,W,J,R,ue,me,q,Z,Oe=t[3][t[0].name+"MeleeScore"]+"",he,pe,fe,De,x,se=t[3].DEX+"",G,X,Pe,Be=t[3][t[0].name+"RangedScore"]+"",Pt,lt,Bt,Nt,st,yt,un,qe=K(sl),We=[];for(let B=0;B<qe.length;B+=1)We[B]=ar(nr(t,qe,B));return{c(){e=d("div"),n=d("div"),a=M(`Warrior of the
    `),l=d("select"),s=d("option"),s.textContent="Not selected";for(let B=0;B<We.length;B+=1)We[B].c();r=M(`
    style`),u=g(),o=d("table"),m=d("thead"),m.innerHTML='<tr><th class="svelte-1fl61js">Name</th> <th class="svelte-1fl61js">Ability</th> <th class="svelte-1fl61js">Level</th> <th class="svelte-1fl61js">Relation</th> <th class="svelte-1fl61js">%</th></tr>',h=g(),f=d("tbody"),k=d("tr"),_=d("td"),$=M(w),O=g(),y=d("td"),C=M("Melee (STR "),Q=M(ae),U=M(")"),le=g(),z=d("td"),P=d("input"),E=g(),L=d("td"),W=d("select"),J=d("option"),J.textContent="P (+20)",R=d("option"),R.textContent="S (+10)",ue=d("option"),ue.textContent="None",q=g(),Z=d("td"),he=M(Oe),pe=g(),fe=d("tr"),De=d("td"),x=M("Ranged (DEX "),G=M(se),X=M(")"),Pe=g(),Pt=M(Be),lt=g(),Bt=d("tr"),Bt.innerHTML="",Nt=g(),st=d("tr"),s.__value="",I(s,s.__value),l.disabled=t[2],t[0].style===void 0&&Ie(()=>t[5].call(l)),b(_,"rowspan","2"),b(_,"class","svelte-1fl61js"),b(y,"class","svelte-1fl61js"),b(P,"type","number"),b(P,"min","0"),b(P,"max","6"),P.disabled=t[2],b(z,"rowspan","2"),b(z,"class","svelte-1fl61js"),J.__value=2,I(J,J.__value),R.__value=1,I(R,R.__value),ue.__value=0,I(ue,ue.__value),W.disabled=me=t[0].level<=0||t[2]===!0,t[0].relation===void 0&&Ie(()=>t[9].call(W)),b(L,"rowspan","2"),b(L,"class","svelte-1fl61js"),b(Z,"class","svelte-1fl61js"),b(De,"class","svelte-1fl61js"),b(o,"class","format svelte-1fl61js"),b(e,"class","container svelte-1fl61js")},m(B,ge){S(B,e,ge),i(e,n),i(n,a),i(n,l),i(l,s);for(let Ne=0;Ne<We.length;Ne+=1)We[Ne]&&We[Ne].m(l,null);_t(l,t[0].style,!0),i(n,r),i(e,u),i(e,o),i(o,m),i(o,h),i(o,f),i(f,k),i(k,_),i(_,$),i(k,O),i(k,y),i(y,C),i(y,Q),i(y,U),i(k,le),i(k,z),i(z,P),I(P,t[0].level),i(k,E),i(k,L),i(L,W),i(W,J),i(W,R),i(W,ue),_t(W,t[0].relation,!0),i(k,q),i(k,Z),i(Z,he),i(f,pe),i(f,fe),i(fe,De),i(De,x),i(De,G),i(De,X),i(fe,Pe),i(fe,Pt),i(f,lt),i(f,Bt),i(f,Nt),i(f,st),yt||(un=[F(l,"change",t[5]),F(l,"change",t[6]),F(P,"input",t[7]),F(P,"change",t[8]),F(W,"change",t[9]),F(W,"change",t[10])],yt=!0)},p(B,[ge]){ge&4&&(l.disabled=B[2]),ge&1&&_t(l,B[0].style),ge&1&&w!==(w=(B[0].style||"Untrained")+"")&&H($,w),ge&8&&ae!==(ae=B[3].STR+"")&&H(Q,ae),ge&4&&(P.disabled=B[2]),ge&1&&be(P.value)!==B[0].level&&I(P,B[0].level),ge&5&&me!==(me=B[0].level<=0||B[2]===!0)&&(W.disabled=me),ge&1&&_t(W,B[0].relation),ge&9&&Oe!==(Oe=B[3][B[0].name+"MeleeScore"]+"")&&H(he,Oe),ge&8&&se!==(se=B[3].DEX+"")&&H(G,se),ge&9&&Be!==(Be=B[3][B[0].name+"RangedScore"]+"")&&H(Pt,Be)},i:Y,o:Y,d(B){B&&T(e),_e(We,B),yt=!1,nt(un)}}}function sr(t,e,n){let a,l=Y,s=()=>(l(),l=aa(o,y=>n(3,a=y)),o);t.$$.on_destroy.push(()=>l());const r=Ks();let{skill:u}=e,{character:o}=e;s();let{lockSheet:m}=e;const h=(y,C)=>r("update",{skill:u,value:{...u,[y]:C}});function f(){u.style=xn(this),n(0,u)}const k=y=>{var C;return h("style",((C=y==null?void 0:y.target)==null?void 0:C.value)||"")};function _(){u.level=be(this.value),n(0,u)}const w=y=>{var C;return h("level",Number(((C=y==null?void 0:y.target)==null?void 0:C.value)||0))};function $(){u.relation=xn(this),n(0,u)}const O=y=>{var C;return h("relation",Number(((C=y==null?void 0:y.target)==null?void 0:C.value)||0))};return t.$$set=y=>{"skill"in y&&n(0,u=y.skill),"character"in y&&s(n(1,o=y.character)),"lockSheet"in y&&n(2,m=y.lockSheet)},[u,o,m,a,h,f,k,_,w,$,O]}class ss extends vt{constructor(e){super(),kt(this,e,sr,lr,at,{skill:0,character:1,lockSheet:2})}}function is(t,e,n){const a=t.slice();return a[6]=e[n],a[8]=n,a}function rs(t){let e,n,a=t[6].name+"",l,s,r=t[6].trained?"(T)":"",u,o,m,h=t[6].hands+"",f,k,_,w=(t[6].range||0)+"",$,O,y,C=t[6].attributes+"",ae,Q,U=t[6].meetRequirements?"":"❌",le,z,P,E=(t[6].meetRequirements?t[6].damage+t[3](t[6].bonus):"0")+"",L,W,J,R=(t[6].meetRequirements?t[4](t[6]):0)+"",ue,me;return{c(){e=d("tr"),n=d("td"),l=M(a),s=g(),u=M(r),o=g(),m=d("td"),f=M(h),k=g(),_=d("td"),$=M(w),O=g(),y=d("td"),ae=M(C),Q=g(),le=M(U),z=g(),P=d("td"),L=M(E),W=g(),J=d("td"),ue=M(R),me=g()},m(q,Z){S(q,e,Z),i(e,n),i(n,l),i(n,s),i(n,u),i(e,o),i(e,m),i(m,f),i(e,k),i(e,_),i(_,$),i(e,O),i(e,y),i(y,ae),i(y,Q),i(y,le),i(e,z),i(e,P),i(P,L),i(e,W),i(e,J),i(J,ue),i(e,me)},p(q,Z){Z&4&&a!==(a=q[6].name+"")&&H(l,a),Z&4&&r!==(r=q[6].trained?"(T)":"")&&H(u,r),Z&4&&h!==(h=q[6].hands+"")&&H(f,h),Z&4&&w!==(w=(q[6].range||0)+"")&&H($,w),Z&4&&C!==(C=q[6].attributes+"")&&H(ae,C),Z&4&&U!==(U=q[6].meetRequirements?"":"❌")&&H(le,U),Z&4&&E!==(E=(q[6].meetRequirements?q[6].damage+q[3](q[6].bonus):"0")+"")&&H(L,E),Z&4&&R!==(R=(q[6].meetRequirements?q[4](q[6]):0)+"")&&H(ue,R)},d(q){q&&T(e)}}}function ir(t){let e,n,a,l,s,r,u,o,m,h,f,k,_,w,$,O=t[1].kungFuDamage+"",y,C=t[3](t[1].MeleeUnarmedModifier)+"",ae,Q,U,le=t[4]({subType:"Melee",c:t[1]})+"",z,P,E=K(t[2]),L=[];for(let W=0;W<E.length;W+=1)L[W]=rs(is(t,E,W));return{c(){e=d("div"),n=d("table"),a=d("thead"),a.innerHTML="<tr><th>Name</th> <th>Hands</th> <th>Range</th> <th>Requires</th> <th>Dam</th> <th>Roll</th></tr>",l=g(),s=d("tbody"),r=d("tr"),u=d("td"),u.textContent="Unarmed",o=g(),m=d("td"),m.textContent="1",h=g(),f=d("td"),f.textContent="0",k=g(),_=d("td"),_.textContent="Hand",w=g(),$=d("td"),y=M(O),ae=M(C),Q=g(),U=d("td"),z=M(le),P=g();for(let W=0;W<L.length;W+=1)L[W].c()},m(W,J){S(W,e,J),i(e,n),i(n,a),i(n,l),i(n,s),i(s,r),i(r,u),i(r,o),i(r,m),i(r,h),i(r,f),i(r,k),i(r,_),i(r,w),i(r,$),i($,y),i($,ae),i(r,Q),i(r,U),i(U,z),i(s,P);for(let R=0;R<L.length;R+=1)L[R]&&L[R].m(s,null)},p(W,[J]){if(J&2&&O!==(O=W[1].kungFuDamage+"")&&H(y,O),J&2&&C!==(C=W[3](W[1].MeleeUnarmedModifier)+"")&&H(ae,C),J&2&&le!==(le=W[4]({subType:"Melee",c:W[1]})+"")&&H(z,le),J&28){E=K(W[2]);let R;for(R=0;R<E.length;R+=1){const ue=is(W,E,R);L[R]?L[R].p(ue,J):(L[R]=rs(ue),L[R].c(),L[R].m(s,null))}for(;R<L.length;R+=1)L[R].d(1);L.length=E.length}},i:Y,o:Y,d(W){W&&T(e),_e(L,W)}}}function rr(t,e,n){let a,l=Y,s=()=>(l(),l=aa(r,h=>n(1,a=h)),r);t.$$.on_destroy.push(()=>l());let{character:r}=e;s();let u=h=>h==0?"":"+"+h,o=({subType:h})=>{let f=0;return h=="Ranged"?f=Math.max(a.Warrior1RangedScore,a.Warrior2RangedScore):f=Math.max(a.Warrior1MeleeScore,a.Warrior2MeleeScore),f},m=[];return t.$$set=h=>{"character"in h&&s(n(0,r=h.character))},t.$$.update=()=>{t.$$.dirty&3&&n(2,m=on.filter(h=>a.weapons.includes(h.name)).map(h=>({...h,meetRequirements:a.canUseWeapon(h),trained:a.trainedWithWeapon(h),bonus:h.subType=="Melee"?a.MeleeDamageModifier:a.RangedDamageModifier})))},[r,a,m,u,o]}class or extends vt{constructor(e){super(),kt(this,e,rr,ir,at,{character:0})}}const Vt=[];function cr(t,e=Y){let n;const a=new Set;function l(u){if(at(t,u)&&(t=u,n)){const o=!Vt.length;for(const m of a)m[1](),Vt.push(m,t);if(o){for(let m=0;m<Vt.length;m+=2)Vt[m][0](Vt[m+1]);Vt.length=0}}}function s(u){l(u(t))}function r(u,o=Y){const m=[u,o];return a.add(m),a.size===1&&(n=e(l,s)||Y),u(t),()=>{a.delete(m),a.size===0&&n&&(n(),n=null)}}return{set:l,update:s,subscribe:r}}let j=cr(new Ii);function ur(t){let e,n,a,l,s,r,u,o;const m=t[7].default,h=rl(m,t,t[6],null);return{c(){e=d("div"),n=d("button"),n.textContent="🔼",a=g(),h&&h.c(),l=g(),s=d("button"),s.textContent="🔽",b(n,"class","svelte-189i2m5"),b(s,"class","svelte-189i2m5"),b(e,"class","svelte-189i2m5")},m(f,k){S(f,e,k),i(e,n),i(e,a),h&&h.m(e,null),i(e,l),i(e,s),r=!0,u||(o=[F(n,"click",t[3]),F(s,"click",t[4])],u=!0)},p(f,k){h&&h.p&&(!r||k&64)&&cl(h,m,f,f[6],r?ol(m,f[6],k,null):ul(f[6]),null)},i(f){r||(D(h,f),r=!0)},o(f){A(h,f),r=!1},d(f){f&&T(e),h&&h.d(f),u=!1,nt(o)}}}function dr(t){let e;const n=t[7].default,a=rl(n,t,t[6],null);return{c(){a&&a.c()},m(l,s){a&&a.m(l,s),e=!0},p(l,s){a&&a.p&&(!e||s&64)&&cl(a,n,l,l[6],e?ol(n,l[6],s,null):ul(l[6]),null)},i(l){e||(D(a,l),e=!0)},o(l){A(a,l),e=!1},d(l){a&&a.d(l)}}}function fr(t){let e;return{c(){e=M("ERROR")},m(n,a){S(n,e,a)},p:Y,i:Y,o:Y,d(n){n&&T(e)}}}function mr(t){let e,n,a,l;const s=[fr,dr,ur],r=[];function u(o,m){return o[2][o[0]]==null&&typeof!o[2][o[0]]!="number"?0:o[1]?1:2}return e=u(t),n=r[e]=s[e](t),{c(){n.c(),a=Ot()},m(o,m){r[e].m(o,m),S(o,a,m),l=!0},p(o,[m]){let h=e;e=u(o),e===h?r[e].p(o,m):(et(),A(r[h],1,1,()=>{r[h]=null}),tt(),n=r[e],n?n.p(o,m):(n=r[e]=s[e](o),n.c()),D(n,1),n.m(a.parentNode,a))},i(o){l||(D(n),l=!0)},o(o){A(n),l=!1},d(o){o&&T(a),r[e].d(o)}}}function hr(t,e,n){let a;zs(t,j,f=>n(2,a=f));let{$$slots:l={},$$scope:s}=e,{v:r}=e,{lockSheet:u}=e,{max:o=-1}=e;const m=()=>{console.log(o,a[r]),!(o>0&&a[r]>=o)&&Zn(j,a[r]+=1,a)},h=()=>{a[r]<=0||Zn(j,a[r]-=1,a)};return t.$$set=f=>{"v"in f&&n(0,r=f.v),"lockSheet"in f&&n(1,u=f.lockSheet),"max"in f&&n(5,o=f.max),"$$scope"in f&&n(6,s=f.$$scope)},[r,u,a,m,h,o,s,l]}class Kt extends vt{constructor(e){super(),kt(this,e,hr,mr,at,{v:0,lockSheet:1,max:5})}}function os(t,e,n){const a=t.slice();return a[22]=e[n],a[24]=n,a}function cs(t,e,n){const a=t.slice();return a[25]=e[n],a[27]=n,a}function us(t,e,n){const a=t.slice();return a[28]=e[n],a[24]=n,a}function pr(t,e,n){const a=t.slice();return a[25]=e[n],a[27]=n,a}function ds(t,e,n){const a=t.slice();return a[28]=e[n],a[24]=n,a}function fs(t,e,n){const a=t.slice();return a[22]=e[n],a[24]=n,a}function ms(t,e,n){const a=t.slice();return a[25]=e[n],a[27]=n,a}function hs(t,e,n){const a=t.slice();return a[34]=e[n],a[27]=n,a}function gr(t,e,n){const a=t.slice();return a[34]=e[n],a[27]=n,a}function ps(t,e,n){const a=t.slice();return a[37]=e[n],a[27]=n,a}function gs(t,e,n){const a=t.slice();return a[37]=e[n],a[27]=n,a}function bs(t,e,n){const a=t.slice();return a[40]=e[n],a[41]=e,a[42]=n,a}function br(t,e,n){const a=t.slice();return a[43]=e[n],a[27]=n,a}function _r(t){let e,n,a;return{c(){e=d("input"),b(e,"type","number"),b(e,"min","0"),b(e,"max","999")},m(l,s){S(l,e,s),I(e,t[1].CP),n||(a=F(e,"input",t[7]),n=!0)},p(l,s){s[0]&2&&be(e.value)!==l[1].CP&&I(e,l[1].CP)},d(l){l&&T(e),n=!1,a()}}}function kr(t){let e;return{c(){e=d("option"),e.textContent=`${t[43]}`,e.__value=t[27],I(e,e.__value)},m(n,a){S(n,e,a)},p:Y,d(n){n&&T(e)}}}function _s(t){let e,n,a,l,s,r,u,o,m,h=K(qi),f=[];for(let _=0;_<h.length;_+=1)f[_]=kr(br(t,h,_));function k(){t[8].call(s,t[40])}return{c(){e=d("div"),n=d("label"),a=d("span"),a.textContent=`${t[40]}`,l=g(),s=d("select"),r=d("option"),r.textContent="-";for(let _=0;_<f.length;_+=1)f[_].c();u=g(),r.__value=-1,I(r,r.__value),s.disabled=t[0],t[1].MoralCodes[t[40]]===void 0&&Ie(k)},m(_,w){S(_,e,w),i(e,n),i(n,a),i(n,l),i(n,s),i(s,r);for(let $=0;$<f.length;$+=1)f[$]&&f[$].m(s,null);_t(s,t[1].MoralCodes[t[40]],!0),i(e,u),o||(m=F(s,"change",k),o=!0)},p(_,w){t=_,w[0]&1&&(s.disabled=t[0]),w[0]&2&&_t(s,t[1].MoralCodes[t[40]])},d(_){_&&T(e),_e(f,_),o=!1,m()}}}function vr(t){let e,n,a;return{c(){e=d("input"),e.disabled=t[0],b(e,"type","number"),b(e,"min","0"),b(e,"max","999")},m(l,s){S(l,e,s),I(e,t[1].Qi),n||(a=F(e,"input",t[10]),n=!0)},p(l,s){s[0]&1&&(e.disabled=l[0]),s[0]&2&&be(e.value)!==l[1].Qi&&I(e,l[1].Qi)},d(l){l&&T(e),n=!1,a()}}}function yr(t){let e,n,a;return{c(){e=d("input"),e.disabled=t[0],b(e,"type","number"),b(e,"min","0"),b(e,"max","999")},m(l,s){S(l,e,s),I(e,t[1].STR),n||(a=F(e,"input",t[11]),n=!0)},p(l,s){s[0]&1&&(e.disabled=l[0]),s[0]&2&&be(e.value)!==l[1].STR&&I(e,l[1].STR)},d(l){l&&T(e),n=!1,a()}}}function wr(t){let e,n,a;return{c(){e=d("input"),e.disabled=t[0],b(e,"type","number"),b(e,"min","0"),b(e,"max","999")},m(l,s){S(l,e,s),I(e,t[1].DEX),n||(a=F(e,"input",t[12]),n=!0)},p(l,s){s[0]&1&&(e.disabled=l[0]),s[0]&2&&be(e.value)!==l[1].DEX&&I(e,l[1].DEX)},d(l){l&&T(e),n=!1,a()}}}function Tr(t){let e,n,a;return{c(){e=d("input"),e.disabled=t[0],b(e,"type","number"),b(e,"min","0"),b(e,"max","999")},m(l,s){S(l,e,s),I(e,t[1].LOG),n||(a=F(e,"input",t[13]),n=!0)},p(l,s){s[0]&1&&(e.disabled=l[0]),s[0]&2&&be(e.value)!==l[1].LOG&&I(e,l[1].LOG)},d(l){l&&T(e),n=!1,a()}}}function Sr(t){let e,n,a;return{c(){e=d("input"),e.disabled=t[0],b(e,"type","number"),b(e,"min","0"),b(e,"max","999")},m(l,s){S(l,e,s),I(e,t[1].WIL),n||(a=F(e,"input",t[14]),n=!0)},p(l,s){s[0]&1&&(e.disabled=l[0]),s[0]&2&&be(e.value)!==l[1].WIL&&I(e,l[1].WIL)},d(l){l&&T(e),n=!1,a()}}}function ks(t){let e;return{c(){e=d("h3"),e.textContent="Techniques"},m(n,a){S(n,e,a)},d(n){n&&T(e)}}}function vs(t){let e,n,a,l=K(ta),s=[];for(let r=0;r<l.length;r+=1)s[r]=ws(gs(t,l,r));return{c(){e=d("select");for(let r=0;r<s.length;r+=1)s[r].c();e.multiple=!0,t[1].learnedTechniques===void 0&&Ie(()=>t[15].call(e))},m(r,u){S(r,e,u);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);Ke(e,t[1].learnedTechniques),n||(a=F(e,"change",t[15]),n=!0)},p(r,u){if(u[0]&2){l=K(ta);let o;for(o=0;o<l.length;o+=1){const m=gs(r,l,o);s[o]?s[o].p(m,u):(s[o]=ws(m),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}u[0]&2&&Ke(e,r[1].learnedTechniques)},d(r){r&&T(e),_e(s,r),n=!1,a()}}}function ys(t){let e;return{c(){e=d("option"),e.textContent=`${t[37].name} `,e.__value=t[37].name,I(e,e.__value)},m(n,a){S(n,e,a)},d(n){n&&T(e)}}}function ws(t){let e=t[1].allowedTechniques.includes(t[37]),n,a=e&&ys(t);return{c(){a&&a.c(),n=Ot()},m(l,s){a&&a.m(l,s),S(l,n,s)},p(l,s){s[0]&2&&(e=l[1].allowedTechniques.includes(l[37])),e?a||(a=ys(l),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(l){l&&T(n),a&&a.d(l)}}}function Ts(t){let e,n;const a=[t[37]];let l={};for(let s=0;s<a.length;s+=1)l=Bn(l,a[s]);return e=new la({props:l}),{c(){ne(e.$$.fragment)},m(s,r){ee(e,s,r),n=!0},i(s){n||(D(e.$$.fragment,s),n=!0)},o(s){A(e.$$.fragment,s),n=!1},d(s){te(e,s)}}}function Ss(t){let e=t[1].learnedTechniques.includes(t[37].name),n,a,l=e&&Ts(t);return{c(){l&&l.c(),n=Ot()},m(s,r){l&&l.m(s,r),S(s,n,r),a=!0},p(s,r){r[0]&2&&(e=s[1].learnedTechniques.includes(s[37].name)),e?l?r[0]&2&&D(l,1):(l=Ts(s),l.c(),D(l,1),l.m(n.parentNode,n)):l&&(et(),A(l,1,1,()=>{l=null}),tt())},i(s){a||(D(l),a=!0)},o(s){A(l),a=!1},d(s){s&&T(n),l&&l.d(s)}}}function Ds(t){let e;return{c(){e=d("h3"),e.textContent="Spells"},m(n,a){S(n,e,a)},d(n){n&&T(e)}}}function Ws(t){let e,n,a,l=K(il),s=[];for(let r=0;r<l.length;r+=1)s[r]=Dr(gr(t,l,r));return{c(){e=d("select");for(let r=0;r<s.length;r+=1)s[r].c();e.multiple=!0,t[1].spells===void 0&&Ie(()=>t[16].call(e))},m(r,u){S(r,e,u);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);Ke(e,t[1].spells),n||(a=F(e,"change",t[16]),n=!0)},p(r,u){u[0]&2&&Ke(e,r[1].spells)},d(r){r&&T(e),_e(s,r),n=!1,a()}}}function Dr(t){let e;return{c(){e=d("option"),e.textContent=`${t[34].name}`,e.__value=t[34].name,I(e,e.__value)},m(n,a){S(n,e,a)},p:Y,d(n){n&&T(e)}}}function Ms(t){let e,n;const a=[t[34]];let l={};for(let s=0;s<a.length;s+=1)l=Bn(l,a[s]);return e=new la({props:l}),{c(){ne(e.$$.fragment)},m(s,r){ee(e,s,r),n=!0},i(s){n||(D(e.$$.fragment,s),n=!0)},o(s){A(e.$$.fragment,s),n=!1},d(s){te(e,s)}}}function $s(t){let e=t[1].spells.includes(t[34].name),n,a,l=e&&Ms(t);return{c(){l&&l.c(),n=Ot()},m(s,r){l&&l.m(s,r),S(s,n,r),a=!0},p(s,r){r[0]&2&&(e=s[1].spells.includes(s[34].name)),e?l?r[0]&2&&D(l,1):(l=Ms(s),l.c(),D(l,1),l.m(n.parentNode,n)):l&&(et(),A(l,1,1,()=>{l=null}),tt())},i(s){a||(D(l),a=!0)},o(s){A(l),a=!1},d(s){s&&T(n),l&&l.d(s)}}}function As(t){let e;return{c(){e=d("h3"),e.textContent="equipment"},m(n,a){S(n,e,a)},d(n){n&&T(e)}}}function Cs(t){let e,n,a,l=K([...new Set(cn.reduce(Fs,[]))]),s=[];for(let r=0;r<l.length;r+=1)s[r]=Rs(fs(t,l,r));return{c(){e=d("select");for(let r=0;r<s.length;r+=1)s[r].c();b(e,"class","thin"),e.multiple=!0,t[1].equipment===void 0&&Ie(()=>t[18].call(e))},m(r,u){S(r,e,u);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);Ke(e,t[1].equipment),n||(a=F(e,"change",t[18]),n=!0)},p(r,u){if(u&0){l=K([...new Set(cn.reduce(Fs,[]))]);let o;for(o=0;o<l.length;o+=1){const m=fs(r,l,o);s[o]?s[o].p(m,u):(s[o]=Rs(m),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}u[0]&2&&Ke(e,r[1].equipment)},d(r){r&&T(e),_e(s,r),n=!1,a()}}}function Ls(t){let e,n,a=t[25].cost+"",l,s,r=t[25].name+"",u;return{c(){e=d("option"),n=M("["),l=M(a),s=M("]"),u=M(r),e.__value=t[25].name,I(e,e.__value)},m(o,m){S(o,e,m),i(e,n),i(e,l),i(e,s),i(e,u)},p:Y,d(o){o&&T(e)}}}function Rs(t){let e;function n(...s){return t[17](t[22],...s)}let a=K(cn.filter(n)),l=[];for(let s=0;s<a.length;s+=1)l[s]=Ls(ms(t,a,s));return{c(){e=d("optgroup");for(let s=0;s<l.length;s+=1)l[s].c();b(e,"label",t[22])},m(s,r){S(s,e,r);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null)},p(s,r){if(t=s,r&0){a=K(cn.filter(n));let u;for(u=0;u<a.length;u+=1){const o=ms(t,a,u);l[u]?l[u].p(o,r):(l[u]=Ls(o),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=a.length}},d(s){s&&T(e),_e(l,s)}}}function qs(t){let e,n;const a=[t[28]];let l={};for(let s=0;s<a.length;s+=1)l=Bn(l,a[s]);return e=new la({props:l}),{c(){ne(e.$$.fragment)},m(s,r){ee(e,s,r),n=!0},i(s){n||(D(e.$$.fragment,s),n=!0)},o(s){A(e.$$.fragment,s),n=!1},d(s){te(e,s)}}}function Is(t){let e=t[1].equipment.includes(t[28].name),n,a,l=e&&qs(t);return{c(){l&&l.c(),n=Ot()},m(s,r){l&&l.m(s,r),S(s,n,r),a=!0},p(s,r){r[0]&2&&(e=s[1].equipment.includes(s[28].name)),e?l?r[0]&2&&D(l,1):(l=qs(s),l.c(),D(l,1),l.m(n.parentNode,n)):l&&(et(),A(l,1,1,()=>{l=null}),tt())},i(s){a||(D(l),a=!0)},o(s){A(l),a=!1},d(s){s&&T(n),l&&l.d(s)}}}function Es(t){let e;return{c(){e=d("h3"),e.textContent="armour"},m(n,a){S(n,e,a)},d(n){n&&T(e)}}}function Gs(t){let e,n,a,l=K(na),s=[];for(let r=0;r<l.length;r+=1)s[r]=Wr(pr(t,l,r));return{c(){e=d("select");for(let r=0;r<s.length;r+=1)s[r].c();e.multiple=!0,t[1].armour===void 0&&Ie(()=>t[19].call(e))},m(r,u){S(r,e,u);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);Ke(e,t[1].armour),n||(a=F(e,"change",t[19]),n=!0)},p(r,u){u[0]&2&&Ke(e,r[1].armour)},d(r){r&&T(e),_e(s,r),n=!1,a()}}}function Wr(t){let e;return{c(){e=d("option"),e.textContent=`[${t[25].cost}] ${t[25].name}`,e.__value=t[25].name,I(e,e.__value)},m(n,a){S(n,e,a)},p:Y,d(n){n&&T(e)}}}function Os(t){let e,n;const a=[t[28]];let l={};for(let s=0;s<a.length;s+=1)l=Bn(l,a[s]);return e=new la({props:l}),{c(){ne(e.$$.fragment)},m(s,r){ee(e,s,r),n=!0},i(s){n||(D(e.$$.fragment,s),n=!0)},o(s){A(e.$$.fragment,s),n=!1},d(s){te(e,s)}}}function Ps(t){let e=t[1].armour.includes(t[28].name),n,a,l=e&&Os(t);return{c(){l&&l.c(),n=Ot()},m(s,r){l&&l.m(s,r),S(s,n,r),a=!0},p(s,r){r[0]&2&&(e=s[1].armour.includes(s[28].name)),e?l?r[0]&2&&D(l,1):(l=Os(s),l.c(),D(l,1),l.m(n.parentNode,n)):l&&(et(),A(l,1,1,()=>{l=null}),tt())},i(s){a||(D(l),a=!0)},o(s){A(l),a=!1},d(s){s&&T(n),l&&l.d(s)}}}function Bs(t){let e,n,a,l=K([...new Set(on.reduce(Hs,[]))]),s=[];for(let r=0;r<l.length;r+=1)s[r]=js(os(t,l,r));return{c(){e=d("select");for(let r=0;r<s.length;r+=1)s[r].c();e.multiple=!0,t[1].weapons===void 0&&Ie(()=>t[21].call(e))},m(r,u){S(r,e,u);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);Ke(e,t[1].weapons),n||(a=F(e,"change",t[21]),n=!0)},p(r,u){if(u[0]&2){l=K([...new Set(on.reduce(Hs,[]))]);let o;for(o=0;o<l.length;o+=1){const m=os(r,l,o);s[o]?s[o].p(m,u):(s[o]=js(m),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}u[0]&2&&Ke(e,r[1].weapons)},d(r){r&&T(e),_e(s,r),n=!1,a()}}}function Ns(t){let e,n,a=t[25].cost+"",l,s,r=t[25].name+"",u,o,m=t[1].trainedWithWeapon(t[25])?"(T)":"",h;return{c(){e=d("option"),n=M("["),l=M(a),s=M("] "),u=M(r),o=g(),h=M(m),e.__value=t[25].name,I(e,e.__value)},m(f,k){S(f,e,k),i(e,n),i(e,l),i(e,s),i(e,u),i(e,o),i(e,h)},p(f,k){k[0]&2&&m!==(m=f[1].trainedWithWeapon(f[25])?"(T)":"")&&H(h,m)},d(f){f&&T(e)}}}function js(t){let e;function n(...s){return t[20](t[22],...s)}let a=K(on.filter(n)),l=[];for(let s=0;s<a.length;s+=1)l[s]=Ns(cs(t,a,s));return{c(){e=d("optgroup");for(let s=0;s<l.length;s+=1)l[s].c();b(e,"label",t[22])},m(s,r){S(s,e,r);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null)},p(s,r){if(t=s,r[0]&2){a=K(on.filter(n));let u;for(u=0;u<a.length;u+=1){const o=cs(t,a,u);l[u]?l[u].p(o,r):(l[u]=Ns(o),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=a.length}},d(s){s&&T(e),_e(l,s)}}}function Mr(t){let e,n,a=t[0]?"🔒":"🔓",l,s,r,u,o,m,h,f,k,_,w,$,O,y,C,ae,Q,U,le,z,P,E,L,W,J,R,ue,me,q,Z,Oe,he,pe,fe,De,x,se,G,X,Pe,Be,Pt,lt,Bt,Nt,st,yt,un,qe,We,B,ge,Ne,sa,hl,wt,pl,jt,dn,ia,gl,Qe,fn,bl,mn,ra,_l,Ye,hn,kl,je,oa,pn,ca,vl,Tt,yl,ua,gn,da,wl,St,Tl,fa,bn,ma,Sl,Dt,Dl,ha,_n,pa,Wl,Wt,Ml,Ft,Nn,Ht,ga,$l,de,it,Al,rt,Cl,ot,Ll,ct,Rl,ut,ql,dt,Il,ft,El,mt,Gl,ht,Ol,Xt,pt,Pl,gt,Bl,Fe,He,ba,_a,kn,Nl,Xe,ka,va,vn,jl,Ue,ya,wa,yn,Fl,ze,Ta,Sa,wn,Hl,Je,Da,Xl,Wa,Ut,Me,Ma,Ul;W=new Kt({props:{lockSheet:t[0],v:"CP",$$slots:{default:[_r]},$$scope:{ctx:t}}});let $a=K(["Totally","Very","Somewhat"]),Ee=[];for(let c=0;c<3;c+=1)Ee[c]=_s(bs(t,$a,c));wt=new Kt({props:{lockSheet:t[0],v:"Qi",$$slots:{default:[vr]},$$scope:{ctx:t}}}),Tt=new Kt({props:{lockSheet:t[0],v:"STR",$$slots:{default:[yr]},$$scope:{ctx:t}}}),St=new Kt({props:{lockSheet:t[0],v:"DEX",$$slots:{default:[wr]},$$scope:{ctx:t}}}),Dt=new Kt({props:{lockSheet:t[0],v:"LOG",$$slots:{default:[Tr]},$$scope:{ctx:t}}}),Wt=new Kt({props:{lockSheet:t[0],v:"WIL",$$slots:{default:[Sr]},$$scope:{ctx:t}}}),it=new Ze({props:{lockSheet:t[0],character:j,skill:t[1].Alchemy}}),it.$on("update",t[2]),rt=new Ze({props:{lockSheet:t[0],character:j,skill:t[1].Detective}}),rt.$on("update",t[2]),ot=new Ze({props:{lockSheet:t[0],character:j,skill:t[1].Diviner}}),ot.$on("update",t[2]),ct=new Ze({props:{lockSheet:t[0],character:j,skill:t[1].Leader}}),ct.$on("update",t[2]),ut=new Ze({props:{lockSheet:t[0],character:j,skill:t[1].Mystic}}),ut.$on("update",t[2]),dt=new Ze({props:{lockSheet:t[0],character:j,skill:t[1].Scholar}}),dt.$on("update",t[2]),ft=new Ze({props:{lockSheet:t[0],character:j,skill:t[1].Scout}}),ft.$on("update",t[2]),mt=new Ze({props:{lockSheet:t[0],character:j,skill:t[1].Sorcerer}}),mt.$on("update",t[2]),ht=new Ze({props:{lockSheet:t[0],character:j,skill:t[1].Thief}}),ht.$on("update",t[2]),pt=new ss({props:{lockSheet:t[0],character:j,skill:t[1].Warrior1}}),pt.$on("update",t[2]),gt=new ss({props:{lockSheet:t[0],character:j,skill:t[1].Warrior2}}),gt.$on("update",t[2]);let $e=(t[1].learnedTechniques.length>0||!t[0])&&ks(),ke=!t[0]&&vs(t),Mt=K(ta),ie=[];for(let c=0;c<Mt.length;c+=1)ie[c]=Ss(ps(t,Mt,c));const bi=c=>A(ie[c],1,1,()=>{ie[c]=null});let Ae=(t[1].spells.length>0||!t[0])&&Ds(),ve=!t[0]&&Ws(t),$t=K(il),re=[];for(let c=0;c<$t.length;c+=1)re[c]=$s(hs(t,$t,c));const _i=c=>A(re[c],1,1,()=>{re[c]=null});let Ce=(t[1].equipment.length>0||!t[0])&&As(),ye=!t[0]&&Cs(t),At=K(cn),oe=[];for(let c=0;c<At.length;c+=1)oe[c]=Is(ds(t,At,c));const ki=c=>A(oe[c],1,1,()=>{oe[c]=null});let Le=(t[1].armour.length>0||!t[0])&&Es(),we=!t[0]&&Gs(t),Ct=K(na),ce=[];for(let c=0;c<Ct.length;c+=1)ce[c]=Ps(us(t,Ct,c));const vi=c=>A(ce[c],1,1,()=>{ce[c]=null});let Te=!t[0]&&Bs(t);return Ut=new or({props:{character:j}}),{c(){e=d("div"),n=d("button"),l=M(a),s=g(),r=d("div"),u=d("button"),u.textContent="text",o=g(),m=d("div"),h=d("div"),f=d("div"),k=d("label"),_=d("span"),_.textContent="Name",w=g(),$=d("input"),O=g(),y=d("div"),C=d("label"),ae=d("span"),ae.textContent="Description",Q=g(),U=d("textarea"),le=g(),z=d("div"),P=d("label"),E=d("span"),E.textContent="CP",L=g(),ne(W.$$.fragment),J=g(),R=d("label"),ue=d("span"),ue.textContent="Rank",me=g(),q=d("input"),Oe=g(),he=d("div");for(let c=0;c<3;c+=1)Ee[c].c();pe=g(),fe=d("div"),De=d("div"),x=d("label"),se=d("span"),se.textContent="BP",G=g(),X=d("input"),Pt=g(),lt=d("a"),lt.textContent="↩️",Bt=g(),Nt=d("div"),st=d("label"),yt=d("span"),yt.textContent="DR",un=g(),qe=d("input"),B=g(),ge=d("div"),Ne=d("label"),sa=d("span"),sa.textContent="Qi",hl=g(),ne(wt.$$.fragment),pl=g(),jt=d("div"),dn=d("label"),ia=d("span"),ia.textContent="INIT",gl=g(),Qe=d("input"),bl=g(),mn=d("label"),ra=d("span"),ra.textContent="MOV",_l=g(),Ye=d("input"),kl=g(),je=d("div"),oa=d("div"),pn=d("label"),ca=d("span"),ca.textContent="STR",vl=g(),ne(Tt.$$.fragment),yl=g(),ua=d("div"),gn=d("label"),da=d("span"),da.textContent="DEX",wl=g(),ne(St.$$.fragment),Tl=g(),fa=d("div"),bn=d("label"),ma=d("span"),ma.textContent="LOG",Sl=g(),ne(Dt.$$.fragment),Dl=g(),ha=d("div"),_n=d("label"),pa=d("span"),pa.textContent="WIL",Wl=g(),ne(Wt.$$.fragment),Ml=g(),Ft=d("div"),Nn=d("section"),Ht=d("table"),ga=d("thead"),ga.innerHTML='<tr class="svelte-1be26r3"><th>Name</th> <th>Base Ability</th> <th>Level</th> <th>P/S</th> <th>%</th> <th>Notes</th></tr>',$l=g(),de=d("tbody"),ne(it.$$.fragment),Al=g(),ne(rt.$$.fragment),Cl=g(),ne(ot.$$.fragment),Ll=g(),ne(ct.$$.fragment),Rl=g(),ne(ut.$$.fragment),ql=g(),ne(dt.$$.fragment),Il=g(),ne(ft.$$.fragment),El=g(),ne(mt.$$.fragment),Gl=g(),ne(ht.$$.fragment),Ol=g(),Xt=d("section"),ne(pt.$$.fragment),Pl=g(),ne(gt.$$.fragment),Bl=g(),Fe=d("section"),He=d("div"),$e&&$e.c(),ba=g(),ke&&ke.c(),_a=g(),kn=d("div");for(let c=0;c<ie.length;c+=1)ie[c].c();Nl=g(),Xe=d("div"),Ae&&Ae.c(),ka=g(),ve&&ve.c(),va=g(),vn=d("div");for(let c=0;c<re.length;c+=1)re[c].c();jl=g(),Ue=d("div"),Ce&&Ce.c(),ya=g(),ye&&ye.c(),wa=g(),yn=d("div");for(let c=0;c<oe.length;c+=1)oe[c].c();Fl=g(),ze=d("div"),Le&&Le.c(),Ta=g(),we&&we.c(),Sa=g(),wn=d("div");for(let c=0;c<ce.length;c+=1)ce[c].c();Hl=g(),Je=d("div"),Da=d("h3"),Da.textContent="weapons",Xl=g(),Te&&Te.c(),Wa=g(),ne(Ut.$$.fragment),b(n,"class","svelte-1be26r3"),b(e,"class","fixed svelte-1be26r3"),u.value="lmao",$.disabled=t[0],b($,"type","text"),U.disabled=t[0],b(h,"class","name-desc"),b(q,"type","number"),b(q,"min","0"),b(q,"max","10"),q.disabled=!0,q.value=Z=t[1].Rank,b(z,"class","cp-rank"),b(he,"class","morals"),b(X,"type","number"),b(X,"min","0"),b(X,"max",Pe=t[1].BP),X.value=Be=t[1].BP,b(X,"inputmode","numeric"),b(lt,"class","flip"),qe.disabled=!0,b(qe,"type","number"),b(qe,"min","0"),b(qe,"max","10"),qe.value=We=t[1].DR,b(fe,"class","dr-bq-qi v-align svelte-1be26r3"),Qe.disabled=!0,b(Qe,"type","number"),b(Qe,"min","0"),b(Qe,"max","10"),Qe.value=fn=t[1].INIT,Ye.disabled=!0,b(Ye,"type","number"),b(Ye,"min","0"),b(Ye,"max","10"),Ye.value=hn=t[1].MOV,b(jt,"class","init-mov"),b(je,"class","base-stats"),b(Ht,"class","theme svelte-1be26r3"),b(Nn,"class","specialist skills"),b(Xt,"class","warrior skills"),b(Ft,"class","skill-scores"),b(kn,"class","card-deck svelte-1be26r3"),b(He,"class","techniques"),b(vn,"class","card-deck svelte-1be26r3"),b(Xe,"class","spells"),b(yn,"class","card-deck svelte-1be26r3"),b(Ue,"class","gear"),b(wn,"class","card-deck svelte-1be26r3"),b(ze,"class","armour"),b(Fe,"class","abilities"),b(Je,"class","weapons"),b(m,"class","character-form")},m(c,p){S(c,e,p),i(e,n),i(n,l),S(c,s,p),S(c,r,p),i(r,u),S(c,o,p),S(c,m,p),i(m,h),i(h,f),i(f,k),i(k,_),i(k,w),i(k,$),I($,t[1].name),i(h,O),i(h,y),i(y,C),i(C,ae),i(C,Q),i(C,U),I(U,t[1].Description),i(m,le),i(m,z),i(z,P),i(P,E),i(P,L),ee(W,P,null),i(z,J),i(z,R),i(R,ue),i(R,me),i(R,q),i(m,Oe),i(m,he);for(let V=0;V<3;V+=1)Ee[V]&&Ee[V].m(he,null);i(m,pe),i(m,fe),i(fe,De),i(De,x),i(x,se),i(x,G),i(x,X),i(x,Pt),i(x,lt),i(fe,Bt),i(fe,Nt),i(Nt,st),i(st,yt),i(st,un),i(st,qe),i(fe,B),i(fe,ge),i(ge,Ne),i(Ne,sa),i(Ne,hl),ee(wt,Ne,null),i(m,pl),i(m,jt),i(jt,dn),i(dn,ia),i(dn,gl),i(dn,Qe),i(jt,bl),i(jt,mn),i(mn,ra),i(mn,_l),i(mn,Ye),i(m,kl),i(m,je),i(je,oa),i(oa,pn),i(pn,ca),i(pn,vl),ee(Tt,pn,null),i(je,yl),i(je,ua),i(ua,gn),i(gn,da),i(gn,wl),ee(St,gn,null),i(je,Tl),i(je,fa),i(fa,bn),i(bn,ma),i(bn,Sl),ee(Dt,bn,null),i(je,Dl),i(je,ha),i(ha,_n),i(_n,pa),i(_n,Wl),ee(Wt,_n,null),i(m,Ml),i(m,Ft),i(Ft,Nn),i(Nn,Ht),i(Ht,ga),i(Ht,$l),i(Ht,de),ee(it,de,null),i(de,Al),ee(rt,de,null),i(de,Cl),ee(ot,de,null),i(de,Ll),ee(ct,de,null),i(de,Rl),ee(ut,de,null),i(de,ql),ee(dt,de,null),i(de,Il),ee(ft,de,null),i(de,El),ee(mt,de,null),i(de,Gl),ee(ht,de,null),i(Ft,Ol),i(Ft,Xt),ee(pt,Xt,null),i(Xt,Pl),ee(gt,Xt,null),i(m,Bl),i(m,Fe),i(Fe,He),$e&&$e.m(He,null),i(He,ba),ke&&ke.m(He,null),i(He,_a),i(He,kn);for(let V=0;V<ie.length;V+=1)ie[V]&&ie[V].m(kn,null);i(Fe,Nl),i(Fe,Xe),Ae&&Ae.m(Xe,null),i(Xe,ka),ve&&ve.m(Xe,null),i(Xe,va),i(Xe,vn);for(let V=0;V<re.length;V+=1)re[V]&&re[V].m(vn,null);i(Fe,jl),i(Fe,Ue),Ce&&Ce.m(Ue,null),i(Ue,ya),ye&&ye.m(Ue,null),i(Ue,wa),i(Ue,yn);for(let V=0;V<oe.length;V+=1)oe[V]&&oe[V].m(yn,null);i(Fe,Fl),i(Fe,ze),Le&&Le.m(ze,null),i(ze,Ta),we&&we.m(ze,null),i(ze,Sa),i(ze,wn);for(let V=0;V<ce.length;V+=1)ce[V]&&ce[V].m(wn,null);i(m,Hl),i(m,Je),i(Je,Da),i(Je,Xl),Te&&Te.m(Je,null),i(Je,Wa),ee(Ut,Je,null),Me=!0,Ma||(Ul=[F(n,"click",t[3]),F(u,"click",t[4]),F($,"input",t[5]),F(U,"input",t[6]),F(lt,"click",t[9])],Ma=!0)},p(c,p){(!Me||p[0]&1)&&a!==(a=c[0]?"🔒":"🔓")&&H(l,a),(!Me||p[0]&1)&&($.disabled=c[0]),p[0]&2&&$.value!==c[1].name&&I($,c[1].name),(!Me||p[0]&1)&&(U.disabled=c[0]),p[0]&2&&I(U,c[1].Description);const V={};if(p[0]&1&&(V.lockSheet=c[0]),p[0]&2|p[1]&16384&&(V.$$scope={dirty:p,ctx:c}),W.$set(V),(!Me||p[0]&2&&Z!==(Z=c[1].Rank)&&q.value!==Z)&&(q.value=Z),p[0]&3){$a=K(["Totally","Very","Somewhat"]);let v;for(v=0;v<3;v+=1){const Se=bs(c,$a,v);Ee[v]?Ee[v].p(Se,p):(Ee[v]=_s(Se),Ee[v].c(),Ee[v].m(he,null))}for(;v<3;v+=1)Ee[v].d(1)}(!Me||p[0]&2&&Pe!==(Pe=c[1].BP))&&b(X,"max",Pe),(!Me||p[0]&2&&Be!==(Be=c[1].BP)&&X.value!==Be)&&(X.value=Be),(!Me||p[0]&2&&We!==(We=c[1].DR)&&qe.value!==We)&&(qe.value=We);const Aa={};p[0]&1&&(Aa.lockSheet=c[0]),p[0]&3|p[1]&16384&&(Aa.$$scope={dirty:p,ctx:c}),wt.$set(Aa),(!Me||p[0]&2&&fn!==(fn=c[1].INIT)&&Qe.value!==fn)&&(Qe.value=fn),(!Me||p[0]&2&&hn!==(hn=c[1].MOV)&&Ye.value!==hn)&&(Ye.value=hn);const Ca={};p[0]&1&&(Ca.lockSheet=c[0]),p[0]&3|p[1]&16384&&(Ca.$$scope={dirty:p,ctx:c}),Tt.$set(Ca);const La={};p[0]&1&&(La.lockSheet=c[0]),p[0]&3|p[1]&16384&&(La.$$scope={dirty:p,ctx:c}),St.$set(La);const Ra={};p[0]&1&&(Ra.lockSheet=c[0]),p[0]&3|p[1]&16384&&(Ra.$$scope={dirty:p,ctx:c}),Dt.$set(Ra);const qa={};p[0]&1&&(qa.lockSheet=c[0]),p[0]&3|p[1]&16384&&(qa.$$scope={dirty:p,ctx:c}),Wt.$set(qa);const Ia={};p[0]&1&&(Ia.lockSheet=c[0]),p[0]&2&&(Ia.skill=c[1].Alchemy),it.$set(Ia);const Ea={};p[0]&1&&(Ea.lockSheet=c[0]),p[0]&2&&(Ea.skill=c[1].Detective),rt.$set(Ea);const Ga={};p[0]&1&&(Ga.lockSheet=c[0]),p[0]&2&&(Ga.skill=c[1].Diviner),ot.$set(Ga);const Oa={};p[0]&1&&(Oa.lockSheet=c[0]),p[0]&2&&(Oa.skill=c[1].Leader),ct.$set(Oa);const Pa={};p[0]&1&&(Pa.lockSheet=c[0]),p[0]&2&&(Pa.skill=c[1].Mystic),ut.$set(Pa);const Ba={};p[0]&1&&(Ba.lockSheet=c[0]),p[0]&2&&(Ba.skill=c[1].Scholar),dt.$set(Ba);const Na={};p[0]&1&&(Na.lockSheet=c[0]),p[0]&2&&(Na.skill=c[1].Scout),ft.$set(Na);const ja={};p[0]&1&&(ja.lockSheet=c[0]),p[0]&2&&(ja.skill=c[1].Sorcerer),mt.$set(ja);const Fa={};p[0]&1&&(Fa.lockSheet=c[0]),p[0]&2&&(Fa.skill=c[1].Thief),ht.$set(Fa);const Ha={};p[0]&1&&(Ha.lockSheet=c[0]),p[0]&2&&(Ha.skill=c[1].Warrior1),pt.$set(Ha);const Xa={};if(p[0]&1&&(Xa.lockSheet=c[0]),p[0]&2&&(Xa.skill=c[1].Warrior2),gt.$set(Xa),c[1].learnedTechniques.length>0||!c[0]?$e||($e=ks(),$e.c(),$e.m(He,ba)):$e&&($e.d(1),$e=null),c[0]?ke&&(ke.d(1),ke=null):ke?ke.p(c,p):(ke=vs(c),ke.c(),ke.m(He,_a)),p[0]&2){Mt=K(ta);let v;for(v=0;v<Mt.length;v+=1){const Se=ps(c,Mt,v);ie[v]?(ie[v].p(Se,p),D(ie[v],1)):(ie[v]=Ss(Se),ie[v].c(),D(ie[v],1),ie[v].m(kn,null))}for(et(),v=Mt.length;v<ie.length;v+=1)bi(v);tt()}if(c[1].spells.length>0||!c[0]?Ae||(Ae=Ds(),Ae.c(),Ae.m(Xe,ka)):Ae&&(Ae.d(1),Ae=null),c[0]?ve&&(ve.d(1),ve=null):ve?ve.p(c,p):(ve=Ws(c),ve.c(),ve.m(Xe,va)),p[0]&2){$t=K(il);let v;for(v=0;v<$t.length;v+=1){const Se=hs(c,$t,v);re[v]?(re[v].p(Se,p),D(re[v],1)):(re[v]=$s(Se),re[v].c(),D(re[v],1),re[v].m(vn,null))}for(et(),v=$t.length;v<re.length;v+=1)_i(v);tt()}if(c[1].equipment.length>0||!c[0]?Ce||(Ce=As(),Ce.c(),Ce.m(Ue,ya)):Ce&&(Ce.d(1),Ce=null),c[0]?ye&&(ye.d(1),ye=null):ye?ye.p(c,p):(ye=Cs(c),ye.c(),ye.m(Ue,wa)),p[0]&2){At=K(cn);let v;for(v=0;v<At.length;v+=1){const Se=ds(c,At,v);oe[v]?(oe[v].p(Se,p),D(oe[v],1)):(oe[v]=Is(Se),oe[v].c(),D(oe[v],1),oe[v].m(yn,null))}for(et(),v=At.length;v<oe.length;v+=1)ki(v);tt()}if(c[1].armour.length>0||!c[0]?Le||(Le=Es(),Le.c(),Le.m(ze,Ta)):Le&&(Le.d(1),Le=null),c[0]?we&&(we.d(1),we=null):we?we.p(c,p):(we=Gs(c),we.c(),we.m(ze,Sa)),p[0]&2){Ct=K(na);let v;for(v=0;v<Ct.length;v+=1){const Se=us(c,Ct,v);ce[v]?(ce[v].p(Se,p),D(ce[v],1)):(ce[v]=Ps(Se),ce[v].c(),D(ce[v],1),ce[v].m(wn,null))}for(et(),v=Ct.length;v<ce.length;v+=1)vi(v);tt()}c[0]?Te&&(Te.d(1),Te=null):Te?Te.p(c,p):(Te=Bs(c),Te.c(),Te.m(Je,Wa))},i(c){if(!Me){D(W.$$.fragment,c),D(wt.$$.fragment,c),D(Tt.$$.fragment,c),D(St.$$.fragment,c),D(Dt.$$.fragment,c),D(Wt.$$.fragment,c),D(it.$$.fragment,c),D(rt.$$.fragment,c),D(ot.$$.fragment,c),D(ct.$$.fragment,c),D(ut.$$.fragment,c),D(dt.$$.fragment,c),D(ft.$$.fragment,c),D(mt.$$.fragment,c),D(ht.$$.fragment,c),D(pt.$$.fragment,c),D(gt.$$.fragment,c);for(let p=0;p<Mt.length;p+=1)D(ie[p]);for(let p=0;p<$t.length;p+=1)D(re[p]);for(let p=0;p<At.length;p+=1)D(oe[p]);for(let p=0;p<Ct.length;p+=1)D(ce[p]);D(Ut.$$.fragment,c),Me=!0}},o(c){A(W.$$.fragment,c),A(wt.$$.fragment,c),A(Tt.$$.fragment,c),A(St.$$.fragment,c),A(Dt.$$.fragment,c),A(Wt.$$.fragment,c),A(it.$$.fragment,c),A(rt.$$.fragment,c),A(ot.$$.fragment,c),A(ct.$$.fragment,c),A(ut.$$.fragment,c),A(dt.$$.fragment,c),A(ft.$$.fragment,c),A(mt.$$.fragment,c),A(ht.$$.fragment,c),A(pt.$$.fragment,c),A(gt.$$.fragment,c),ie=ie.filter(Boolean);for(let p=0;p<ie.length;p+=1)A(ie[p]);re=re.filter(Boolean);for(let p=0;p<re.length;p+=1)A(re[p]);oe=oe.filter(Boolean);for(let p=0;p<oe.length;p+=1)A(oe[p]);ce=ce.filter(Boolean);for(let p=0;p<ce.length;p+=1)A(ce[p]);A(Ut.$$.fragment,c),Me=!1},d(c){c&&(T(e),T(s),T(r),T(o),T(m)),te(W),_e(Ee,c),te(wt),te(Tt),te(St),te(Dt),te(Wt),te(it),te(rt),te(ot),te(ct),te(ut),te(dt),te(ft),te(mt),te(ht),te(pt),te(gt),$e&&$e.d(),ke&&ke.d(),_e(ie,c),Ae&&Ae.d(),ve&&ve.d(),_e(re,c),Ce&&Ce.d(),ye&&ye.d(),_e(oe,c),Le&&Le.d(),we&&we.d(),_e(ce,c),Te&&Te.d(),te(Ut),Ma=!1,nt(Ul)}}}const Fs=(t,e)=>[...t,e.itemType],Hs=(t,e)=>[...t,e.subType];function $r(t,e,n){let a;zs(t,j,E=>n(1,a=E));function l(E){const{skill:L,value:W}=E.detail;console.log(E.detail),Zn(j,a[L.name]=W,a)}let s=!1;const r=()=>n(0,s=!s),u=E=>console.log(E);function o(){a.name=this.value,j.set(a)}function m(){a.Description=this.value,j.set(a)}function h(){a.CP=be(this.value),j.set(a)}function f(E){a.MoralCodes[E]=xn(this),j.set(a)}const k=()=>Zn(j,a.BP=a.BaseBP,a);function _(){a.Qi=be(this.value),j.set(a)}function w(){a.STR=be(this.value),j.set(a)}function $(){a.DEX=be(this.value),j.set(a)}function O(){a.LOG=be(this.value),j.set(a)}function y(){a.WIL=be(this.value),j.set(a)}function C(){a.learnedTechniques=Tn(this),j.set(a)}function ae(){a.spells=Tn(this),j.set(a)}const Q=(E,L)=>L.itemType==E;function U(){a.equipment=Tn(this),j.set(a)}function le(){a.armour=Tn(this),j.set(a)}const z=(E,L)=>L.subType==E;function P(){a.weapons=Tn(this),j.set(a)}return[s,a,l,r,u,o,m,h,f,k,_,w,$,O,y,C,ae,Q,U,le,z,P]}class Ar extends vt{constructor(e){super(),kt(this,e,$r,Mr,at,{},null,[-1,-1])}}function Cr(t){let e,n,a;return n=new Ar({}),{c(){e=d("main"),ne(n.$$.fragment)},m(l,s){S(l,e,s),ee(n,e,null),a=!0},p:Y,i(l){a||(D(n.$$.fragment,l),a=!0)},o(l){A(n.$$.fragment,l),a=!1},d(l){l&&T(e),te(n)}}}class Lr extends vt{constructor(e){super(),kt(this,e,null,Cr,at,{})}}new Lr({target:document.getElementById("app")});
